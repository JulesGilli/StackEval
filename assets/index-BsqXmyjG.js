(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Nu={exports:{}},Ws={},Iu={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=Symbol.for("react.element"),Sf=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),bf=Symbol.for("react.provider"),Cf=Symbol.for("react.context"),Pf=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Of=Symbol.for("react.memo"),Lf=Symbol.for("react.lazy"),na=Symbol.iterator;function Af(t){return t===null||typeof t!="object"?null:(t=na&&t[na]||t["@@iterator"],typeof t=="function"?t:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ru=Object.assign,$u={};function Rn(t,e,n){this.props=t,this.context=e,this.refs=$u,this.updater=n||Uu}Rn.prototype.isReactComponent={};Rn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qu(){}qu.prototype=Rn.prototype;function nl(t,e,n){this.props=t,this.context=e,this.refs=$u,this.updater=n||Uu}var rl=nl.prototype=new qu;rl.constructor=nl;Ru(rl,Rn.prototype);rl.isPureReactComponent=!0;var ra=Array.isArray,Du=Object.prototype.hasOwnProperty,sl={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Mu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Du.call(e,r)&&!zu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ar,type:t,key:i,ref:o,props:s,_owner:sl.current}}function Nf(t,e){return{$$typeof:Ar,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function il(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ar}function If(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sa=/\/+/g;function yi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?If(""+t.key):e.toString(36)}function as(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ar:case Sf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+yi(o,0):r,ra(s)?(n="",t!=null&&(n=t.replace(sa,"$&/")+"/"),as(s,e,n,"",function(u){return u})):s!=null&&(il(s)&&(s=Nf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ra(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+yi(i,l);o+=as(i,e,n,a,s)}else if(a=Af(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+yi(i,l++),o+=as(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fr(t,e,n){if(t==null)return t;var r=[],s=0;return as(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Uf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pe={current:null},us={transition:null},Rf={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:us,ReactCurrentOwner:sl};function Fu(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:Fr,forEach:function(t,e,n){Fr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fr(t,function(){e++}),e},toArray:function(t){return Fr(t,function(e){return e})||[]},only:function(t){if(!il(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};I.Component=Rn;I.Fragment=kf;I.Profiler=jf;I.PureComponent=nl;I.StrictMode=Ef;I.Suspense=Tf;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rf;I.act=Fu;I.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ru({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Du.call(e,a)&&!zu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ar,type:t.type,key:s,ref:i,props:r,_owner:o}};I.createContext=function(t){return t={$$typeof:Cf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bf,_context:t},t.Consumer=t};I.createElement=Mu;I.createFactory=function(t){var e=Mu.bind(null,t);return e.type=t,e};I.createRef=function(){return{current:null}};I.forwardRef=function(t){return{$$typeof:Pf,render:t}};I.isValidElement=il;I.lazy=function(t){return{$$typeof:Lf,_payload:{_status:-1,_result:t},_init:Uf}};I.memo=function(t,e){return{$$typeof:Of,type:t,compare:e===void 0?null:e}};I.startTransition=function(t){var e=us.transition;us.transition={};try{t()}finally{us.transition=e}};I.unstable_act=Fu;I.useCallback=function(t,e){return pe.current.useCallback(t,e)};I.useContext=function(t){return pe.current.useContext(t)};I.useDebugValue=function(){};I.useDeferredValue=function(t){return pe.current.useDeferredValue(t)};I.useEffect=function(t,e){return pe.current.useEffect(t,e)};I.useId=function(){return pe.current.useId()};I.useImperativeHandle=function(t,e,n){return pe.current.useImperativeHandle(t,e,n)};I.useInsertionEffect=function(t,e){return pe.current.useInsertionEffect(t,e)};I.useLayoutEffect=function(t,e){return pe.current.useLayoutEffect(t,e)};I.useMemo=function(t,e){return pe.current.useMemo(t,e)};I.useReducer=function(t,e,n){return pe.current.useReducer(t,e,n)};I.useRef=function(t){return pe.current.useRef(t)};I.useState=function(t){return pe.current.useState(t)};I.useSyncExternalStore=function(t,e,n){return pe.current.useSyncExternalStore(t,e,n)};I.useTransition=function(){return pe.current.useTransition()};I.version="18.3.1";Iu.exports=I;var R=Iu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=R,qf=Symbol.for("react.element"),Df=Symbol.for("react.fragment"),zf=Object.prototype.hasOwnProperty,Mf=$f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ff={key:!0,ref:!0,__self:!0,__source:!0};function Bu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zf.call(e,r)&&!Ff.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:qf,type:t,key:i,ref:o,props:s,_owner:Mf.current}}Ws.Fragment=Df;Ws.jsx=Bu;Ws.jsxs=Bu;Nu.exports=Ws;var g=Nu.exports,Qu={exports:{}},Ce={},Vu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,O){var A=C.length;C.push(O);e:for(;0<A;){var G=A-1>>>1,ee=C[G];if(0<s(ee,O))C[G]=O,C[A]=ee,A=G;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],A=C.pop();if(A!==O){C[0]=A;e:for(var G=0,ee=C.length,zr=ee>>>1;G<zr;){var It=2*(G+1)-1,vi=C[It],Ut=It+1,Mr=C[Ut];if(0>s(vi,A))Ut<ee&&0>s(Mr,vi)?(C[G]=Mr,C[Ut]=A,G=Ut):(C[G]=vi,C[It]=A,G=It);else if(Ut<ee&&0>s(Mr,A))C[G]=Mr,C[Ut]=A,G=Ut;else break e}}return O}function s(C,O){var A=C.sortIndex-O.sortIndex;return A!==0?A:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,p=3,y=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=C)r(u),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(u)}}function v(C){if(x=!1,h(C),!w)if(n(a)!==null)w=!0,mi(_);else{var O=n(u);O!==null&&gi(v,O.startTime-C)}}function _(C,O){w=!1,x&&(x=!1,m(P),P=-1),y=!0;var A=p;try{for(h(O),d=n(a);d!==null&&(!(d.expirationTime>O)||C&&!Re());){var G=d.callback;if(typeof G=="function"){d.callback=null,p=d.priorityLevel;var ee=G(d.expirationTime<=O);O=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(a)&&r(a),h(O)}else r(a);d=n(a)}if(d!==null)var zr=!0;else{var It=n(u);It!==null&&gi(v,It.startTime-O),zr=!1}return zr}finally{d=null,p=A,y=!1}}var S=!1,k=null,P=-1,q=5,L=-1;function Re(){return!(t.unstable_now()-L<q)}function Mn(){if(k!==null){var C=t.unstable_now();L=C;var O=!0;try{O=k(!0,C)}finally{O?Fn():(S=!1,k=null)}}else S=!1}var Fn;if(typeof f=="function")Fn=function(){f(Mn)};else if(typeof MessageChannel<"u"){var ta=new MessageChannel,_f=ta.port2;ta.port1.onmessage=Mn,Fn=function(){_f.postMessage(null)}}else Fn=function(){j(Mn,0)};function mi(C){k=C,S||(S=!0,Fn())}function gi(C,O){P=j(function(){C(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,mi(_))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var A=p;p=O;try{return C()}finally{p=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var A=p;p=C;try{return O()}finally{p=A}},t.unstable_scheduleCallback=function(C,O,A){var G=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,C){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=A+ee,C={id:c++,callback:O,priorityLevel:C,startTime:A,expirationTime:ee,sortIndex:-1},A>G?(C.sortIndex=A,e(u,C),n(a)===null&&C===n(u)&&(x?(m(P),P=-1):x=!0,gi(v,A-G))):(C.sortIndex=ee,e(a,C),w||y||(w=!0,mi(_))),C},t.unstable_shouldYield=Re,t.unstable_wrapCallback=function(C){var O=p;return function(){var A=p;p=O;try{return C.apply(this,arguments)}finally{p=A}}}})(Wu);Vu.exports=Wu;var Bf=Vu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=R,be=Bf;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hu=new Set,pr={};function Xt(t,e){Pn(t,e),Pn(t+"Capture",e)}function Pn(t,e){for(pr[t]=e,t=0;t<e.length;t++)Hu.add(e[t])}var st=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=Object.prototype.hasOwnProperty,Vf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia={},oa={};function Wf(t){return eo.call(oa,t)?!0:eo.call(ia,t)?!1:Vf.test(t)?oa[t]=!0:(ia[t]=!0,!1)}function Hf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gf(t,e,n,r){if(e===null||typeof e>"u"||Hf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function me(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oe[t]=new me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oe[e]=new me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oe[t]=new me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oe[t]=new me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oe[t]=new me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oe[t]=new me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oe[t]=new me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oe[t]=new me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oe[t]=new me(t,5,!1,t.toLowerCase(),null,!1,!1)});var ol=/[\-:]([a-z])/g;function ll(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ol,ll);oe[e]=new me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ol,ll);oe[e]=new me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ol,ll);oe[e]=new me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oe[t]=new me(t,1,!1,t.toLowerCase(),null,!1,!1)});oe.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oe[t]=new me(t,1,!1,t.toLowerCase(),null,!0,!0)});function al(t,e,n,r){var s=oe.hasOwnProperty(e)?oe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gf(e,n,s,r)&&(n=null),r||s===null?Wf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var at=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Br=Symbol.for("react.element"),cn=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),ul=Symbol.for("react.strict_mode"),to=Symbol.for("react.profiler"),Gu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),cl=Symbol.for("react.forward_ref"),no=Symbol.for("react.suspense"),ro=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Ju=Symbol.for("react.offscreen"),la=Symbol.iterator;function Bn(t){return t===null||typeof t!="object"?null:(t=la&&t[la]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,wi;function Xn(t){if(wi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wi=e&&e[1]||""}return`
`+wi+t}var _i=!1;function xi(t,e){if(!t||_i)return"";_i=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{_i=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xn(t):""}function Kf(t){switch(t.tag){case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return t=xi(t.type,!1),t;case 11:return t=xi(t.type.render,!1),t;case 1:return t=xi(t.type,!0),t;default:return""}}function so(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dn:return"Fragment";case cn:return"Portal";case to:return"Profiler";case ul:return"StrictMode";case no:return"Suspense";case ro:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ku:return(t.displayName||"Context")+".Consumer";case Gu:return(t._context.displayName||"Context")+".Provider";case cl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dl:return e=t.displayName||null,e!==null?e:so(t.type)||"Memo";case ft:e=t._payload,t=t._init;try{return so(t(e))}catch{}}return null}function Jf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return so(e);case 8:return e===ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yf(t){var e=Yu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qr(t){t._valueTracker||(t._valueTracker=Yf(t))}function Xu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function io(t,e){var n=e.checked;return W({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function aa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zu(t,e){e=e.checked,e!=null&&al(t,"checked",e,!1)}function oo(t,e){Zu(t,e);var n=Pt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lo(t,e.type,n):e.hasOwnProperty("defaultValue")&&lo(t,e.type,Pt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ua(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lo(t,e,n){(e!=="number"||_s(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zn=Array.isArray;function Sn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ao(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return W({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ca(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Zn(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pt(n)}}function ec(t,e){var n=Pt(e.value),r=Pt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function da(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vr,nc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xf=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(t){Xf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rr[e]=rr[t]})});function rc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rr.hasOwnProperty(t)&&rr[t]?(""+e).trim():e+"px"}function sc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Zf=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(t,e){if(e){if(Zf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function fo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=null;function fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var po=null,kn=null,En=null;function fa(t){if(t=Ur(t)){if(typeof po!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Ys(e),po(t.stateNode,t.type,e))}}function ic(t){kn?En?En.push(t):En=[t]:kn=t}function oc(){if(kn){var t=kn,e=En;if(En=kn=null,fa(t),e)for(t=0;t<e.length;t++)fa(e[t])}}function lc(t,e){return t(e)}function ac(){}var Si=!1;function uc(t,e,n){if(Si)return t(e,n);Si=!0;try{return lc(t,e,n)}finally{Si=!1,(kn!==null||En!==null)&&(ac(),oc())}}function gr(t,e){var n=t.stateNode;if(n===null)return null;var r=Ys(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var mo=!1;if(st)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{mo=!1}function eh(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var sr=!1,xs=null,Ss=!1,go=null,th={onError:function(t){sr=!0,xs=t}};function nh(t,e,n,r,s,i,o,l,a){sr=!1,xs=null,eh.apply(th,arguments)}function rh(t,e,n,r,s,i,o,l,a){if(nh.apply(this,arguments),sr){if(sr){var u=xs;sr=!1,xs=null}else throw Error(E(198));Ss||(Ss=!0,go=u)}}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ha(t){if(Zt(t)!==t)throw Error(E(188))}function sh(t){var e=t.alternate;if(!e){if(e=Zt(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ha(s),t;if(i===r)return ha(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function dc(t){return t=sh(t),t!==null?fc(t):null}function fc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fc(t);if(e!==null)return e;t=t.sibling}return null}var hc=be.unstable_scheduleCallback,pa=be.unstable_cancelCallback,ih=be.unstable_shouldYield,oh=be.unstable_requestPaint,K=be.unstable_now,lh=be.unstable_getCurrentPriorityLevel,hl=be.unstable_ImmediatePriority,pc=be.unstable_UserBlockingPriority,ks=be.unstable_NormalPriority,ah=be.unstable_LowPriority,mc=be.unstable_IdlePriority,Hs=null,Ke=null;function uh(t){if(Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Hs,t,void 0,(t.current.flags&128)===128)}catch{}}var Be=Math.clz32?Math.clz32:fh,ch=Math.log,dh=Math.LN2;function fh(t){return t>>>=0,t===0?32:31-(ch(t)/dh|0)|0}var Wr=64,Hr=4194304;function er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Es(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=er(l):(i&=o,i!==0&&(r=er(i)))}else o=n&~s,o!==0?r=er(o):i!==0&&(r=er(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Be(e),s=1<<n,r|=t[n],e&=~s;return r}function hh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ph(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Be(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=hh(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function vo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gc(){var t=Wr;return Wr<<=1,!(Wr&4194240)&&(Wr=64),t}function ki(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Be(e),t[e]=n}function mh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Be(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Be(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $=0;function vc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yc,ml,wc,_c,xc,yo=!1,Gr=[],_t=null,xt=null,St=null,vr=new Map,yr=new Map,mt=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ma(t,e){switch(t){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":vr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(e.pointerId)}}function Vn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ur(e),e!==null&&ml(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vh(t,e,n,r,s){switch(e){case"focusin":return _t=Vn(_t,t,e,n,r,s),!0;case"dragenter":return xt=Vn(xt,t,e,n,r,s),!0;case"mouseover":return St=Vn(St,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vr.set(i,Vn(vr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yr.set(i,Vn(yr.get(i)||null,t,e,n,r,s)),!0}return!1}function Sc(t){var e=Ft(t.target);if(e!==null){var n=Zt(e);if(n!==null){if(e=n.tag,e===13){if(e=cc(n),e!==null){t.blockedOn=e,xc(t.priority,function(){wc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ho=r,n.target.dispatchEvent(r),ho=null}else return e=Ur(n),e!==null&&ml(e),t.blockedOn=n,!1;e.shift()}return!0}function ga(t,e,n){cs(t)&&n.delete(e)}function yh(){yo=!1,_t!==null&&cs(_t)&&(_t=null),xt!==null&&cs(xt)&&(xt=null),St!==null&&cs(St)&&(St=null),vr.forEach(ga),yr.forEach(ga)}function Wn(t,e){t.blockedOn===e&&(t.blockedOn=null,yo||(yo=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,yh)))}function wr(t){function e(s){return Wn(s,t)}if(0<Gr.length){Wn(Gr[0],t);for(var n=1;n<Gr.length;n++){var r=Gr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_t!==null&&Wn(_t,t),xt!==null&&Wn(xt,t),St!==null&&Wn(St,t),vr.forEach(e),yr.forEach(e),n=0;n<mt.length;n++)r=mt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mt.length&&(n=mt[0],n.blockedOn===null);)Sc(n),n.blockedOn===null&&mt.shift()}var jn=at.ReactCurrentBatchConfig,js=!0;function wh(t,e,n,r){var s=$,i=jn.transition;jn.transition=null;try{$=1,gl(t,e,n,r)}finally{$=s,jn.transition=i}}function _h(t,e,n,r){var s=$,i=jn.transition;jn.transition=null;try{$=4,gl(t,e,n,r)}finally{$=s,jn.transition=i}}function gl(t,e,n,r){if(js){var s=wo(t,e,n,r);if(s===null)Ni(t,e,r,bs,n),ma(t,r);else if(vh(s,t,e,n,r))r.stopPropagation();else if(ma(t,r),e&4&&-1<gh.indexOf(t)){for(;s!==null;){var i=Ur(s);if(i!==null&&yc(i),i=wo(t,e,n,r),i===null&&Ni(t,e,r,bs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ni(t,e,r,null,n)}}var bs=null;function wo(t,e,n,r){if(bs=null,t=fl(r),t=Ft(t),t!==null)if(e=Zt(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bs=t,null}function kc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lh()){case hl:return 1;case pc:return 4;case ks:case ah:return 16;case mc:return 536870912;default:return 16}default:return 16}}var yt=null,vl=null,ds=null;function Ec(){if(ds)return ds;var t,e=vl,n=e.length,r,s="value"in yt?yt.value:yt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ds=s.slice(t,1<r?1-r:void 0)}function fs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kr(){return!0}function va(){return!1}function Pe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kr:va,this.isPropagationStopped=va,this}return W(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),e}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Pe($n),Ir=W({},$n,{view:0,detail:0}),xh=Pe(Ir),Ei,ji,Hn,Gs=W({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Ei=t.screenX-Hn.screenX,ji=t.screenY-Hn.screenY):ji=Ei=0,Hn=t),Ei)},movementY:function(t){return"movementY"in t?t.movementY:ji}}),ya=Pe(Gs),Sh=W({},Gs,{dataTransfer:0}),kh=Pe(Sh),Eh=W({},Ir,{relatedTarget:0}),bi=Pe(Eh),jh=W({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),bh=Pe(jh),Ch=W({},$n,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ph=Pe(Ch),Th=W({},$n,{data:0}),wa=Pe(Th),Oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ah[t])?!!e[t]:!1}function wl(){return Nh}var Ih=W({},Ir,{key:function(t){if(t.key){var e=Oh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(t){return t.type==="keypress"?fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uh=Pe(Ih),Rh=W({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_a=Pe(Rh),$h=W({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),qh=Pe($h),Dh=W({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),zh=Pe(Dh),Mh=W({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fh=Pe(Mh),Bh=[9,13,27,32],_l=st&&"CompositionEvent"in window,ir=null;st&&"documentMode"in document&&(ir=document.documentMode);var Qh=st&&"TextEvent"in window&&!ir,jc=st&&(!_l||ir&&8<ir&&11>=ir),xa=" ",Sa=!1;function bc(t,e){switch(t){case"keyup":return Bh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fn=!1;function Vh(t,e){switch(t){case"compositionend":return Cc(e);case"keypress":return e.which!==32?null:(Sa=!0,xa);case"textInput":return t=e.data,t===xa&&Sa?null:t;default:return null}}function Wh(t,e){if(fn)return t==="compositionend"||!_l&&bc(t,e)?(t=Ec(),ds=vl=yt=null,fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jc&&e.locale!=="ko"?null:e.data;default:return null}}var Hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ka(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hh[t.type]:e==="textarea"}function Pc(t,e,n,r){ic(r),e=Cs(e,"onChange"),0<e.length&&(n=new yl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var or=null,_r=null;function Gh(t){Dc(t,0)}function Ks(t){var e=mn(t);if(Xu(e))return t}function Kh(t,e){if(t==="change")return e}var Tc=!1;if(st){var Ci;if(st){var Pi="oninput"in document;if(!Pi){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),Pi=typeof Ea.oninput=="function"}Ci=Pi}else Ci=!1;Tc=Ci&&(!document.documentMode||9<document.documentMode)}function ja(){or&&(or.detachEvent("onpropertychange",Oc),_r=or=null)}function Oc(t){if(t.propertyName==="value"&&Ks(_r)){var e=[];Pc(e,_r,t,fl(t)),uc(Gh,e)}}function Jh(t,e,n){t==="focusin"?(ja(),or=e,_r=n,or.attachEvent("onpropertychange",Oc)):t==="focusout"&&ja()}function Yh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ks(_r)}function Xh(t,e){if(t==="click")return Ks(e)}function Zh(t,e){if(t==="input"||t==="change")return Ks(e)}function ep(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ve=typeof Object.is=="function"?Object.is:ep;function xr(t,e){if(Ve(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!eo.call(e,s)||!Ve(t[s],e[s]))return!1}return!0}function ba(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ca(t,e){var n=ba(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ba(n)}}function Lc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ac(){for(var t=window,e=_s();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_s(t.document)}return e}function xl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tp(t){var e=Ac(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lc(n.ownerDocument.documentElement,n)){if(r!==null&&xl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ca(n,i);var o=Ca(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var np=st&&"documentMode"in document&&11>=document.documentMode,hn=null,_o=null,lr=null,xo=!1;function Pa(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xo||hn==null||hn!==_s(r)||(r=hn,"selectionStart"in r&&xl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lr&&xr(lr,r)||(lr=r,r=Cs(_o,"onSelect"),0<r.length&&(e=new yl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hn)))}function Jr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pn={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionend:Jr("Transition","TransitionEnd")},Ti={},Nc={};st&&(Nc=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function Js(t){if(Ti[t])return Ti[t];if(!pn[t])return t;var e=pn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nc)return Ti[t]=e[n];return t}var Ic=Js("animationend"),Uc=Js("animationiteration"),Rc=Js("animationstart"),$c=Js("transitionend"),qc=new Map,Ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(t,e){qc.set(t,e),Xt(e,[t])}for(var Oi=0;Oi<Ta.length;Oi++){var Li=Ta[Oi],rp=Li.toLowerCase(),sp=Li[0].toUpperCase()+Li.slice(1);Ot(rp,"on"+sp)}Ot(Ic,"onAnimationEnd");Ot(Uc,"onAnimationIteration");Ot(Rc,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot($c,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(tr));function Oa(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rh(r,e,void 0,t),t.currentTarget=null}function Dc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Oa(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Oa(s,l,u),i=a}}}if(Ss)throw t=go,Ss=!1,go=null,t}function M(t,e){var n=e[bo];n===void 0&&(n=e[bo]=new Set);var r=t+"__bubble";n.has(r)||(zc(e,t,2,!1),n.add(r))}function Ai(t,e,n){var r=0;e&&(r|=4),zc(n,t,r,e)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Sr(t){if(!t[Yr]){t[Yr]=!0,Hu.forEach(function(n){n!=="selectionchange"&&(ip.has(n)||Ai(n,!1,t),Ai(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yr]||(e[Yr]=!0,Ai("selectionchange",!1,e))}}function zc(t,e,n,r){switch(kc(e)){case 1:var s=wh;break;case 4:s=_h;break;default:s=gl}n=s.bind(null,e,n,t),s=void 0,!mo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ni(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ft(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}uc(function(){var u=i,c=fl(n),d=[];e:{var p=qc.get(t);if(p!==void 0){var y=yl,w=t;switch(t){case"keypress":if(fs(n)===0)break e;case"keydown":case"keyup":y=Uh;break;case"focusin":w="focus",y=bi;break;case"focusout":w="blur",y=bi;break;case"beforeblur":case"afterblur":y=bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=qh;break;case Ic:case Uc:case Rc:y=bh;break;case $c:y=zh;break;case"scroll":y=xh;break;case"wheel":y=Fh;break;case"copy":case"cut":case"paste":y=Ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_a}var x=(e&4)!==0,j=!x&&t==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var f=u,h;f!==null;){h=f;var v=h.stateNode;if(h.tag===5&&v!==null&&(h=v,m!==null&&(v=gr(f,m),v!=null&&x.push(kr(f,v,h)))),j)break;f=f.return}0<x.length&&(p=new y(p,w,null,n,c),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==ho&&(w=n.relatedTarget||n.fromElement)&&(Ft(w)||w[it]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?Ft(w):null,w!==null&&(j=Zt(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=ya,v="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(x=_a,v="onPointerLeave",m="onPointerEnter",f="pointer"),j=y==null?p:mn(y),h=w==null?p:mn(w),p=new x(v,f+"leave",y,n,c),p.target=j,p.relatedTarget=h,v=null,Ft(c)===u&&(x=new x(m,f+"enter",w,n,c),x.target=h,x.relatedTarget=j,v=x),j=v,y&&w)t:{for(x=y,m=w,f=0,h=x;h;h=tn(h))f++;for(h=0,v=m;v;v=tn(v))h++;for(;0<f-h;)x=tn(x),f--;for(;0<h-f;)m=tn(m),h--;for(;f--;){if(x===m||m!==null&&x===m.alternate)break t;x=tn(x),m=tn(m)}x=null}else x=null;y!==null&&La(d,p,y,x,!1),w!==null&&j!==null&&La(d,j,w,x,!0)}}e:{if(p=u?mn(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var _=Kh;else if(ka(p))if(Tc)_=Zh;else{_=Yh;var S=Jh}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=Xh);if(_&&(_=_(t,u))){Pc(d,_,n,c);break e}S&&S(t,p,u),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&lo(p,"number",p.value)}switch(S=u?mn(u):window,t){case"focusin":(ka(S)||S.contentEditable==="true")&&(hn=S,_o=u,lr=null);break;case"focusout":lr=_o=hn=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Pa(d,n,c);break;case"selectionchange":if(np)break;case"keydown":case"keyup":Pa(d,n,c)}var k;if(_l)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else fn?bc(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(jc&&n.locale!=="ko"&&(fn||P!=="onCompositionStart"?P==="onCompositionEnd"&&fn&&(k=Ec()):(yt=c,vl="value"in yt?yt.value:yt.textContent,fn=!0)),S=Cs(u,P),0<S.length&&(P=new wa(P,t,null,n,c),d.push({event:P,listeners:S}),k?P.data=k:(k=Cc(n),k!==null&&(P.data=k)))),(k=Qh?Vh(t,n):Wh(t,n))&&(u=Cs(u,"onBeforeInput"),0<u.length&&(c=new wa("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}Dc(d,e)})}function kr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gr(t,n),i!=null&&r.unshift(kr(t,i,s)),i=gr(t,e),i!=null&&r.push(kr(t,i,s))),t=t.return}return r}function tn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function La(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=gr(n,i),a!=null&&o.unshift(kr(n,a,l))):s||(a=gr(n,i),a!=null&&o.push(kr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var op=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Aa(t){return(typeof t=="string"?t:""+t).replace(op,`
`).replace(lp,"")}function Xr(t,e,n){if(e=Aa(e),Aa(t)!==e&&n)throw Error(E(425))}function Ps(){}var So=null,ko=null;function Eo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jo=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,Na=typeof Promise=="function"?Promise:void 0,up=typeof queueMicrotask=="function"?queueMicrotask:typeof Na<"u"?function(t){return Na.resolve(null).then(t).catch(cp)}:jo;function cp(t){setTimeout(function(){throw t})}function Ii(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wr(e)}function kt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ia(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Ge="__reactFiber$"+qn,Er="__reactProps$"+qn,it="__reactContainer$"+qn,bo="__reactEvents$"+qn,dp="__reactListeners$"+qn,fp="__reactHandles$"+qn;function Ft(t){var e=t[Ge];if(e)return e;for(var n=t.parentNode;n;){if(e=n[it]||n[Ge]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ia(t);t!==null;){if(n=t[Ge])return n;t=Ia(t)}return e}t=n,n=t.parentNode}return null}function Ur(t){return t=t[Ge]||t[it],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Ys(t){return t[Er]||null}var Co=[],gn=-1;function Lt(t){return{current:t}}function F(t){0>gn||(t.current=Co[gn],Co[gn]=null,gn--)}function z(t,e){gn++,Co[gn]=t.current,t.current=e}var Tt={},de=Lt(Tt),_e=Lt(!1),Ht=Tt;function Tn(t,e){var n=t.type.contextTypes;if(!n)return Tt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xe(t){return t=t.childContextTypes,t!=null}function Ts(){F(_e),F(de)}function Ua(t,e,n){if(de.current!==Tt)throw Error(E(168));z(de,e),z(_e,n)}function Mc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,Jf(t)||"Unknown",s));return W({},n,r)}function Os(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tt,Ht=de.current,z(de,t),z(_e,_e.current),!0}function Ra(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Mc(t,e,Ht),r.__reactInternalMemoizedMergedChildContext=t,F(_e),F(de),z(de,t)):F(_e),z(_e,n)}var et=null,Xs=!1,Ui=!1;function Fc(t){et===null?et=[t]:et.push(t)}function hp(t){Xs=!0,Fc(t)}function At(){if(!Ui&&et!==null){Ui=!0;var t=0,e=$;try{var n=et;for($=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}et=null,Xs=!1}catch(s){throw et!==null&&(et=et.slice(t+1)),hc(hl,At),s}finally{$=e,Ui=!1}}return null}var vn=[],yn=0,Ls=null,As=0,Te=[],Oe=0,Gt=null,tt=1,nt="";function qt(t,e){vn[yn++]=As,vn[yn++]=Ls,Ls=t,As=e}function Bc(t,e,n){Te[Oe++]=tt,Te[Oe++]=nt,Te[Oe++]=Gt,Gt=t;var r=tt;t=nt;var s=32-Be(r)-1;r&=~(1<<s),n+=1;var i=32-Be(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,tt=1<<32-Be(e)+s|n<<s|r,nt=i+t}else tt=1<<i|n<<s|r,nt=t}function Sl(t){t.return!==null&&(qt(t,1),Bc(t,1,0))}function kl(t){for(;t===Ls;)Ls=vn[--yn],vn[yn]=null,As=vn[--yn],vn[yn]=null;for(;t===Gt;)Gt=Te[--Oe],Te[Oe]=null,nt=Te[--Oe],Te[Oe]=null,tt=Te[--Oe],Te[Oe]=null}var je=null,Ee=null,B=!1,Fe=null;function Qc(t,e){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $a(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,je=t,Ee=kt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,je=t,Ee=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gt!==null?{id:tt,overflow:nt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,je=t,Ee=null,!0):!1;default:return!1}}function Po(t){return(t.mode&1)!==0&&(t.flags&128)===0}function To(t){if(B){var e=Ee;if(e){var n=e;if(!$a(t,e)){if(Po(t))throw Error(E(418));e=kt(n.nextSibling);var r=je;e&&$a(t,e)?Qc(r,n):(t.flags=t.flags&-4097|2,B=!1,je=t)}}else{if(Po(t))throw Error(E(418));t.flags=t.flags&-4097|2,B=!1,je=t}}}function qa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;je=t}function Zr(t){if(t!==je)return!1;if(!B)return qa(t),B=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Eo(t.type,t.memoizedProps)),e&&(e=Ee)){if(Po(t))throw Vc(),Error(E(418));for(;e;)Qc(t,e),e=kt(e.nextSibling)}if(qa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ee=kt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ee=null}}else Ee=je?kt(t.stateNode.nextSibling):null;return!0}function Vc(){for(var t=Ee;t;)t=kt(t.nextSibling)}function On(){Ee=je=null,B=!1}function El(t){Fe===null?Fe=[t]:Fe.push(t)}var pp=at.ReactCurrentBatchConfig;function Gn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function es(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Da(t){var e=t._init;return e(t._payload)}function Wc(t){function e(m,f){if(t){var h=m.deletions;h===null?(m.deletions=[f],m.flags|=16):h.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Ct(m,f),m.index=0,m.sibling=null,m}function i(m,f,h){return m.index=h,t?(h=m.alternate,h!==null?(h=h.index,h<f?(m.flags|=2,f):h):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,f,h,v){return f===null||f.tag!==6?(f=Fi(h,m.mode,v),f.return=m,f):(f=s(f,h),f.return=m,f)}function a(m,f,h,v){var _=h.type;return _===dn?c(m,f,h.props.children,v,h.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ft&&Da(_)===f.type)?(v=s(f,h.props),v.ref=Gn(m,f,h),v.return=m,v):(v=ws(h.type,h.key,h.props,null,m.mode,v),v.ref=Gn(m,f,h),v.return=m,v)}function u(m,f,h,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=Bi(h,m.mode,v),f.return=m,f):(f=s(f,h.children||[]),f.return=m,f)}function c(m,f,h,v,_){return f===null||f.tag!==7?(f=Wt(h,m.mode,v,_),f.return=m,f):(f=s(f,h),f.return=m,f)}function d(m,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Fi(""+f,m.mode,h),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Br:return h=ws(f.type,f.key,f.props,null,m.mode,h),h.ref=Gn(m,null,f),h.return=m,h;case cn:return f=Bi(f,m.mode,h),f.return=m,f;case ft:var v=f._init;return d(m,v(f._payload),h)}if(Zn(f)||Bn(f))return f=Wt(f,m.mode,h,null),f.return=m,f;es(m,f)}return null}function p(m,f,h,v){var _=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return _!==null?null:l(m,f,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Br:return h.key===_?a(m,f,h,v):null;case cn:return h.key===_?u(m,f,h,v):null;case ft:return _=h._init,p(m,f,_(h._payload),v)}if(Zn(h)||Bn(h))return _!==null?null:c(m,f,h,v,null);es(m,h)}return null}function y(m,f,h,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(h)||null,l(f,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Br:return m=m.get(v.key===null?h:v.key)||null,a(f,m,v,_);case cn:return m=m.get(v.key===null?h:v.key)||null,u(f,m,v,_);case ft:var S=v._init;return y(m,f,h,S(v._payload),_)}if(Zn(v)||Bn(v))return m=m.get(h)||null,c(f,m,v,_,null);es(f,v)}return null}function w(m,f,h,v){for(var _=null,S=null,k=f,P=f=0,q=null;k!==null&&P<h.length;P++){k.index>P?(q=k,k=null):q=k.sibling;var L=p(m,k,h[P],v);if(L===null){k===null&&(k=q);break}t&&k&&L.alternate===null&&e(m,k),f=i(L,f,P),S===null?_=L:S.sibling=L,S=L,k=q}if(P===h.length)return n(m,k),B&&qt(m,P),_;if(k===null){for(;P<h.length;P++)k=d(m,h[P],v),k!==null&&(f=i(k,f,P),S===null?_=k:S.sibling=k,S=k);return B&&qt(m,P),_}for(k=r(m,k);P<h.length;P++)q=y(k,m,P,h[P],v),q!==null&&(t&&q.alternate!==null&&k.delete(q.key===null?P:q.key),f=i(q,f,P),S===null?_=q:S.sibling=q,S=q);return t&&k.forEach(function(Re){return e(m,Re)}),B&&qt(m,P),_}function x(m,f,h,v){var _=Bn(h);if(typeof _!="function")throw Error(E(150));if(h=_.call(h),h==null)throw Error(E(151));for(var S=_=null,k=f,P=f=0,q=null,L=h.next();k!==null&&!L.done;P++,L=h.next()){k.index>P?(q=k,k=null):q=k.sibling;var Re=p(m,k,L.value,v);if(Re===null){k===null&&(k=q);break}t&&k&&Re.alternate===null&&e(m,k),f=i(Re,f,P),S===null?_=Re:S.sibling=Re,S=Re,k=q}if(L.done)return n(m,k),B&&qt(m,P),_;if(k===null){for(;!L.done;P++,L=h.next())L=d(m,L.value,v),L!==null&&(f=i(L,f,P),S===null?_=L:S.sibling=L,S=L);return B&&qt(m,P),_}for(k=r(m,k);!L.done;P++,L=h.next())L=y(k,m,P,L.value,v),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?P:L.key),f=i(L,f,P),S===null?_=L:S.sibling=L,S=L);return t&&k.forEach(function(Mn){return e(m,Mn)}),B&&qt(m,P),_}function j(m,f,h,v){if(typeof h=="object"&&h!==null&&h.type===dn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Br:e:{for(var _=h.key,S=f;S!==null;){if(S.key===_){if(_=h.type,_===dn){if(S.tag===7){n(m,S.sibling),f=s(S,h.props.children),f.return=m,m=f;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ft&&Da(_)===S.type){n(m,S.sibling),f=s(S,h.props),f.ref=Gn(m,S,h),f.return=m,m=f;break e}n(m,S);break}else e(m,S);S=S.sibling}h.type===dn?(f=Wt(h.props.children,m.mode,v,h.key),f.return=m,m=f):(v=ws(h.type,h.key,h.props,null,m.mode,v),v.ref=Gn(m,f,h),v.return=m,m=v)}return o(m);case cn:e:{for(S=h.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(m,f.sibling),f=s(f,h.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=Bi(h,m.mode,v),f.return=m,m=f}return o(m);case ft:return S=h._init,j(m,f,S(h._payload),v)}if(Zn(h))return w(m,f,h,v);if(Bn(h))return x(m,f,h,v);es(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,h),f.return=m,m=f):(n(m,f),f=Fi(h,m.mode,v),f.return=m,m=f),o(m)):n(m,f)}return j}var Ln=Wc(!0),Hc=Wc(!1),Ns=Lt(null),Is=null,wn=null,jl=null;function bl(){jl=wn=Is=null}function Cl(t){var e=Ns.current;F(Ns),t._currentValue=e}function Oo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bn(t,e){Is=t,jl=wn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(we=!0),t.firstContext=null)}function Ie(t){var e=t._currentValue;if(jl!==t)if(t={context:t,memoizedValue:e,next:null},wn===null){if(Is===null)throw Error(E(308));wn=t,Is.dependencies={lanes:0,firstContext:t}}else wn=wn.next=t;return e}var Bt=null;function Pl(t){Bt===null?Bt=[t]:Bt.push(t)}function Gc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Pl(e)):(n.next=s.next,s.next=n),e.interleaved=n,ot(t,r)}function ot(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ht=!1;function Tl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Et(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ot(t,n)}return s=r.interleaved,s===null?(e.next=e,Pl(r)):(e.next=s.next,s.next=e),r.interleaved=e,ot(t,n)}function hs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pl(t,n)}}function za(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Us(t,e,n,r){var s=t.updateQueue;ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=u=a=null,l=i;do{var p=l.lane,y=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,x=l;switch(p=e,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){d=w.call(y,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,p=typeof w=="function"?w.call(y,d,p):w,p==null)break e;d=W({},d,p);break e;case 2:ht=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=d):c=c.next=y,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jt|=o,t.lanes=o,t.memoizedState=d}}function Ma(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var Rr={},Je=Lt(Rr),jr=Lt(Rr),br=Lt(Rr);function Qt(t){if(t===Rr)throw Error(E(174));return t}function Ol(t,e){switch(z(br,e),z(jr,t),z(Je,Rr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uo(e,t)}F(Je),z(Je,e)}function An(){F(Je),F(jr),F(br)}function Jc(t){Qt(br.current);var e=Qt(Je.current),n=uo(e,t.type);e!==n&&(z(jr,t),z(Je,n))}function Ll(t){jr.current===t&&(F(Je),F(jr))}var Q=Lt(0);function Rs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ri=[];function Al(){for(var t=0;t<Ri.length;t++)Ri[t]._workInProgressVersionPrimary=null;Ri.length=0}var ps=at.ReactCurrentDispatcher,$i=at.ReactCurrentBatchConfig,Kt=0,V=null,Y=null,ne=null,$s=!1,ar=!1,Cr=0,mp=0;function le(){throw Error(E(321))}function Nl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ve(t[n],e[n]))return!1;return!0}function Il(t,e,n,r,s,i){if(Kt=i,V=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ps.current=t===null||t.memoizedState===null?wp:_p,t=n(r,s),ar){i=0;do{if(ar=!1,Cr=0,25<=i)throw Error(E(301));i+=1,ne=Y=null,e.updateQueue=null,ps.current=xp,t=n(r,s)}while(ar)}if(ps.current=qs,e=Y!==null&&Y.next!==null,Kt=0,ne=Y=V=null,$s=!1,e)throw Error(E(300));return t}function Ul(){var t=Cr!==0;return Cr=0,t}function He(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?V.memoizedState=ne=t:ne=ne.next=t,ne}function Ue(){if(Y===null){var t=V.alternate;t=t!==null?t.memoizedState:null}else t=Y.next;var e=ne===null?V.memoizedState:ne.next;if(e!==null)ne=e,Y=t;else{if(t===null)throw Error(E(310));Y=t,t={memoizedState:Y.memoizedState,baseState:Y.baseState,baseQueue:Y.baseQueue,queue:Y.queue,next:null},ne===null?V.memoizedState=ne=t:ne=ne.next=t}return ne}function Pr(t,e){return typeof e=="function"?e(t):e}function qi(t){var e=Ue(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=Y,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Kt&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,V.lanes|=c,Jt|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Ve(r,e.memoizedState)||(we=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,V.lanes|=i,Jt|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Di(t){var e=Ue(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ve(i,e.memoizedState)||(we=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Yc(){}function Xc(t,e){var n=V,r=Ue(),s=e(),i=!Ve(r.memoizedState,s);if(i&&(r.memoizedState=s,we=!0),r=r.queue,Rl(td.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ne!==null&&ne.memoizedState.tag&1){if(n.flags|=2048,Tr(9,ed.bind(null,n,r,s,e),void 0,null),re===null)throw Error(E(349));Kt&30||Zc(n,e,s)}return s}function Zc(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=V.updateQueue,e===null?(e={lastEffect:null,stores:null},V.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ed(t,e,n,r){e.value=n,e.getSnapshot=r,nd(e)&&rd(t)}function td(t,e,n){return n(function(){nd(e)&&rd(t)})}function nd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ve(t,n)}catch{return!0}}function rd(t){var e=ot(t,1);e!==null&&Qe(e,t,1,-1)}function Fa(t){var e=He();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:t},e.queue=t,t=t.dispatch=yp.bind(null,V,t),[e.memoizedState,t]}function Tr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=V.updateQueue,e===null?(e={lastEffect:null,stores:null},V.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sd(){return Ue().memoizedState}function ms(t,e,n,r){var s=He();V.flags|=t,s.memoizedState=Tr(1|e,n,void 0,r===void 0?null:r)}function Zs(t,e,n,r){var s=Ue();r=r===void 0?null:r;var i=void 0;if(Y!==null){var o=Y.memoizedState;if(i=o.destroy,r!==null&&Nl(r,o.deps)){s.memoizedState=Tr(e,n,i,r);return}}V.flags|=t,s.memoizedState=Tr(1|e,n,i,r)}function Ba(t,e){return ms(8390656,8,t,e)}function Rl(t,e){return Zs(2048,8,t,e)}function id(t,e){return Zs(4,2,t,e)}function od(t,e){return Zs(4,4,t,e)}function ld(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ad(t,e,n){return n=n!=null?n.concat([t]):null,Zs(4,4,ld.bind(null,e,t),n)}function $l(){}function ud(t,e){var n=Ue();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cd(t,e){var n=Ue();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dd(t,e,n){return Kt&21?(Ve(n,e)||(n=gc(),V.lanes|=n,Jt|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,we=!0),t.memoizedState=n)}function gp(t,e){var n=$;$=n!==0&&4>n?n:4,t(!0);var r=$i.transition;$i.transition={};try{t(!1),e()}finally{$=n,$i.transition=r}}function fd(){return Ue().memoizedState}function vp(t,e,n){var r=bt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hd(t))pd(e,n);else if(n=Gc(t,e,n,r),n!==null){var s=he();Qe(n,t,r,s),md(n,e,r)}}function yp(t,e,n){var r=bt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hd(t))pd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ve(l,o)){var a=e.interleaved;a===null?(s.next=s,Pl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Gc(t,e,s,r),n!==null&&(s=he(),Qe(n,t,r,s),md(n,e,r))}}function hd(t){var e=t.alternate;return t===V||e!==null&&e===V}function pd(t,e){ar=$s=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function md(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pl(t,n)}}var qs={readContext:Ie,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useInsertionEffect:le,useLayoutEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useMutableSource:le,useSyncExternalStore:le,useId:le,unstable_isNewReconciler:!1},wp={readContext:Ie,useCallback:function(t,e){return He().memoizedState=[t,e===void 0?null:e],t},useContext:Ie,useEffect:Ba,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ms(4194308,4,ld.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ms(4194308,4,t,e)},useInsertionEffect:function(t,e){return ms(4,2,t,e)},useMemo:function(t,e){var n=He();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=He();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vp.bind(null,V,t),[r.memoizedState,t]},useRef:function(t){var e=He();return t={current:t},e.memoizedState=t},useState:Fa,useDebugValue:$l,useDeferredValue:function(t){return He().memoizedState=t},useTransition:function(){var t=Fa(!1),e=t[0];return t=gp.bind(null,t[1]),He().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=V,s=He();if(B){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),re===null)throw Error(E(349));Kt&30||Zc(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ba(td.bind(null,r,i,t),[t]),r.flags|=2048,Tr(9,ed.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=He(),e=re.identifierPrefix;if(B){var n=nt,r=tt;n=(r&~(1<<32-Be(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_p={readContext:Ie,useCallback:ud,useContext:Ie,useEffect:Rl,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:od,useMemo:cd,useReducer:qi,useRef:sd,useState:function(){return qi(Pr)},useDebugValue:$l,useDeferredValue:function(t){var e=Ue();return dd(e,Y.memoizedState,t)},useTransition:function(){var t=qi(Pr)[0],e=Ue().memoizedState;return[t,e]},useMutableSource:Yc,useSyncExternalStore:Xc,useId:fd,unstable_isNewReconciler:!1},xp={readContext:Ie,useCallback:ud,useContext:Ie,useEffect:Rl,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:od,useMemo:cd,useReducer:Di,useRef:sd,useState:function(){return Di(Pr)},useDebugValue:$l,useDeferredValue:function(t){var e=Ue();return Y===null?e.memoizedState=t:dd(e,Y.memoizedState,t)},useTransition:function(){var t=Di(Pr)[0],e=Ue().memoizedState;return[t,e]},useMutableSource:Yc,useSyncExternalStore:Xc,useId:fd,unstable_isNewReconciler:!1};function De(t,e){if(t&&t.defaultProps){e=W({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:W({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ei={isMounted:function(t){return(t=t._reactInternals)?Zt(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=he(),s=bt(t),i=rt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Et(t,i,s),e!==null&&(Qe(e,t,s,r),hs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=he(),s=bt(t),i=rt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Et(t,i,s),e!==null&&(Qe(e,t,s,r),hs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=he(),r=bt(t),s=rt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Et(t,s,r),e!==null&&(Qe(e,t,r,n),hs(e,t,r))}};function Qa(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xr(n,r)||!xr(s,i):!0}function gd(t,e,n){var r=!1,s=Tt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ie(i):(s=xe(e)?Ht:de.current,r=e.contextTypes,i=(r=r!=null)?Tn(t,s):Tt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ei,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Va(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ei.enqueueReplaceState(e,e.state,null)}function Ao(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Tl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ie(i):(i=xe(e)?Ht:de.current,s.context=Tn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Lo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ei.enqueueReplaceState(s,s.state,null),Us(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Nn(t,e){try{var n="",r=e;do n+=Kf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function No(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function vd(t,e,n){n=rt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zs||(zs=!0,Bo=r),No(t,e)},n}function yd(t,e,n){n=rt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){No(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){No(t,e),typeof r!="function"&&(jt===null?jt=new Set([this]):jt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wa(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Rp.bind(null,t,e,n),e.then(t,t))}function Ha(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ga(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rt(-1,1),e.tag=2,Et(n,e,1))),n.lanes|=1),t)}var kp=at.ReactCurrentOwner,we=!1;function fe(t,e,n,r){e.child=t===null?Hc(e,null,n,r):Ln(e,t.child,n,r)}function Ka(t,e,n,r,s){n=n.render;var i=e.ref;return bn(e,s),r=Il(t,e,n,r,i,s),n=Ul(),t!==null&&!we?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lt(t,e,s)):(B&&n&&Sl(e),e.flags|=1,fe(t,e,r,s),e.child)}function Ja(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Vl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wd(t,e,i,r,s)):(t=ws(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(o,r)&&t.ref===e.ref)return lt(t,e,s)}return e.flags|=1,t=Ct(i,r),t.ref=e.ref,t.return=e,e.child=t}function wd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xr(i,r)&&t.ref===e.ref)if(we=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(we=!0);else return e.lanes=t.lanes,lt(t,e,s)}return Io(t,e,n,r,s)}function _d(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(xn,ke),ke|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(xn,ke),ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(xn,ke),ke|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,z(xn,ke),ke|=r;return fe(t,e,s,n),e.child}function xd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Io(t,e,n,r,s){var i=xe(n)?Ht:de.current;return i=Tn(e,i),bn(e,s),n=Il(t,e,n,r,i,s),r=Ul(),t!==null&&!we?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lt(t,e,s)):(B&&r&&Sl(e),e.flags|=1,fe(t,e,n,s),e.child)}function Ya(t,e,n,r,s){if(xe(n)){var i=!0;Os(e)}else i=!1;if(bn(e,s),e.stateNode===null)gs(t,e),gd(e,n,r),Ao(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ie(u):(u=xe(n)?Ht:de.current,u=Tn(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Va(e,o,r,u),ht=!1;var p=e.memoizedState;o.state=p,Us(e,r,o,s),a=e.memoizedState,l!==r||p!==a||_e.current||ht?(typeof c=="function"&&(Lo(e,n,c,r),a=e.memoizedState),(l=ht||Qa(e,n,l,r,p,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Kc(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:De(e.type,l),o.props=u,d=e.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ie(a):(a=xe(n)?Ht:de.current,a=Tn(e,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||p!==a)&&Va(e,o,r,a),ht=!1,p=e.memoizedState,o.state=p,Us(e,r,o,s);var w=e.memoizedState;l!==d||p!==w||_e.current||ht?(typeof y=="function"&&(Lo(e,n,y,r),w=e.memoizedState),(u=ht||Qa(e,n,u,r,p,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Uo(t,e,n,r,i,s)}function Uo(t,e,n,r,s,i){xd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ra(e,n,!1),lt(t,e,i);r=e.stateNode,kp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ln(e,t.child,null,i),e.child=Ln(e,null,l,i)):fe(t,e,l,i),e.memoizedState=r.state,s&&Ra(e,n,!0),e.child}function Sd(t){var e=t.stateNode;e.pendingContext?Ua(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ua(t,e.context,!1),Ol(t,e.containerInfo)}function Xa(t,e,n,r,s){return On(),El(s),e.flags|=256,fe(t,e,n,r),e.child}var Ro={dehydrated:null,treeContext:null,retryLane:0};function $o(t){return{baseLanes:t,cachePool:null,transitions:null}}function kd(t,e,n){var r=e.pendingProps,s=Q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(Q,s&1),t===null)return To(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ri(o,r,0,null),t=Wt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$o(n),e.memoizedState=Ro,t):ql(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ep(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ct(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ct(l,i):(i=Wt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?$o(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ro,r}return i=t.child,t=i.sibling,r=Ct(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ql(t,e){return e=ri({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ts(t,e,n,r){return r!==null&&El(r),Ln(e,t.child,null,n),t=ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ep(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zi(Error(E(422))),ts(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ri({mode:"visible",children:r.children},s,0,null),i=Wt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ln(e,t.child,null,o),e.child.memoizedState=$o(o),e.memoizedState=Ro,i);if(!(e.mode&1))return ts(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=zi(i,r,void 0),ts(t,e,o,r)}if(l=(o&t.childLanes)!==0,we||l){if(r=re,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ot(t,s),Qe(r,t,s,-1))}return Ql(),r=zi(Error(E(421))),ts(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=$p.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ee=kt(s.nextSibling),je=e,B=!0,Fe=null,t!==null&&(Te[Oe++]=tt,Te[Oe++]=nt,Te[Oe++]=Gt,tt=t.id,nt=t.overflow,Gt=e),e=ql(e,r.children),e.flags|=4096,e)}function Za(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oo(t.return,e,n)}function Mi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ed(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fe(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Za(t,n,e);else if(t.tag===19)Za(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(z(Q,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Mi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Mi(e,!0,n,null,i);break;case"together":Mi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jt|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Ct(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ct(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jp(t,e,n){switch(e.tag){case 3:Sd(e),On();break;case 5:Jc(e);break;case 1:xe(e.type)&&Os(e);break;case 4:Ol(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;z(Ns,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(z(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?kd(t,e,n):(z(Q,Q.current&1),t=lt(t,e,n),t!==null?t.sibling:null);z(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ed(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,_d(t,e,n)}return lt(t,e,n)}var jd,qo,bd,Cd;jd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qo=function(){};bd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qt(Je.current);var i=null;switch(n){case"input":s=io(t,s),r=io(t,r),i=[];break;case"select":s=W({},s,{value:void 0}),r=W({},r,{value:void 0}),i=[];break;case"textarea":s=ao(t,s),r=ao(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ps)}co(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&M("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Cd=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kn(t,e){if(!B)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bp(t,e,n){var r=e.pendingProps;switch(kl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(e),null;case 1:return xe(e.type)&&Ts(),ae(e),null;case 3:return r=e.stateNode,An(),F(_e),F(de),Al(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fe!==null&&(Wo(Fe),Fe=null))),qo(t,e),ae(e),null;case 5:Ll(e);var s=Qt(br.current);if(n=e.type,t!==null&&e.stateNode!=null)bd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ae(e),null}if(t=Qt(Je.current),Zr(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ge]=e,r[Er]=i,t=(e.mode&1)!==0,n){case"dialog":M("cancel",r),M("close",r);break;case"iframe":case"object":case"embed":M("load",r);break;case"video":case"audio":for(s=0;s<tr.length;s++)M(tr[s],r);break;case"source":M("error",r);break;case"img":case"image":case"link":M("error",r),M("load",r);break;case"details":M("toggle",r);break;case"input":aa(r,i),M("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},M("invalid",r);break;case"textarea":ca(r,i),M("invalid",r)}co(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xr(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xr(r.textContent,l,t),s=["children",""+l]):pr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&M("scroll",r)}switch(n){case"input":Qr(r),ua(r,i,!0);break;case"textarea":Qr(r),da(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ps)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ge]=e,t[Er]=r,jd(t,e,!1,!1),e.stateNode=t;e:{switch(o=fo(n,r),n){case"dialog":M("cancel",t),M("close",t),s=r;break;case"iframe":case"object":case"embed":M("load",t),s=r;break;case"video":case"audio":for(s=0;s<tr.length;s++)M(tr[s],t);s=r;break;case"source":M("error",t),s=r;break;case"img":case"image":case"link":M("error",t),M("load",t),s=r;break;case"details":M("toggle",t),s=r;break;case"input":aa(t,r),s=io(t,r),M("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=W({},r,{value:void 0}),M("invalid",t);break;case"textarea":ca(t,r),s=ao(t,r),M("invalid",t);break;default:s=r}co(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?sc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&nc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&mr(t,a):typeof a=="number"&&mr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&M("scroll",t):a!=null&&al(t,i,a,o))}switch(n){case"input":Qr(t),ua(t,r,!1);break;case"textarea":Qr(t),da(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Sn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Sn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ps)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ae(e),null;case 6:if(t&&e.stateNode!=null)Cd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Qt(br.current),Qt(Je.current),Zr(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ge]=e,(i=r.nodeValue!==n)&&(t=je,t!==null))switch(t.tag){case 3:Xr(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xr(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ge]=e,e.stateNode=r}return ae(e),null;case 13:if(F(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(B&&Ee!==null&&e.mode&1&&!(e.flags&128))Vc(),On(),e.flags|=98560,i=!1;else if(i=Zr(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Ge]=e}else On(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ae(e),i=!1}else Fe!==null&&(Wo(Fe),Fe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?Z===0&&(Z=3):Ql())),e.updateQueue!==null&&(e.flags|=4),ae(e),null);case 4:return An(),qo(t,e),t===null&&Sr(e.stateNode.containerInfo),ae(e),null;case 10:return Cl(e.type._context),ae(e),null;case 17:return xe(e.type)&&Ts(),ae(e),null;case 19:if(F(Q),i=e.memoizedState,i===null)return ae(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Kn(i,!1);else{if(Z!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rs(t),o!==null){for(e.flags|=128,Kn(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return z(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&K()>In&&(e.flags|=128,r=!0,Kn(i,!1),e.lanes=4194304)}else{if(!r)if(t=Rs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!B)return ae(e),null}else 2*K()-i.renderingStartTime>In&&n!==1073741824&&(e.flags|=128,r=!0,Kn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=K(),e.sibling=null,n=Q.current,z(Q,r?n&1|2:n&1),e):(ae(e),null);case 22:case 23:return Bl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ke&1073741824&&(ae(e),e.subtreeFlags&6&&(e.flags|=8192)):ae(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Cp(t,e){switch(kl(e),e.tag){case 1:return xe(e.type)&&Ts(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return An(),F(_e),F(de),Al(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ll(e),null;case 13:if(F(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));On()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return F(Q),null;case 4:return An(),null;case 10:return Cl(e.type._context),null;case 22:case 23:return Bl(),null;case 24:return null;default:return null}}var ns=!1,ce=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,b=null;function _n(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){H(t,e,r)}else n.current=null}function Do(t,e,n){try{n()}catch(r){H(t,e,r)}}var eu=!1;function Tp(t,e){if(So=js,t=Ac(),xl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++u===s&&(l=o),p===i&&++c===r&&(a=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ko={focusedElem:t,selectionRange:n},js=!1,b=e;b!==null;)if(e=b,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,b=t;else for(;b!==null;){e=b;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:De(e.type,x),j);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){H(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,b=t;break}b=e.return}return w=eu,eu=!1,w}function ur(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Do(e,n,i)}s=s.next}while(s!==r)}}function ti(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pd(t){var e=t.alternate;e!==null&&(t.alternate=null,Pd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ge],delete e[Er],delete e[bo],delete e[dp],delete e[fp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Td(t){return t.tag===5||t.tag===3||t.tag===4}function tu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Td(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ps));else if(r!==4&&(t=t.child,t!==null))for(Mo(t,e,n),t=t.sibling;t!==null;)Mo(t,e,n),t=t.sibling}function Fo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fo(t,e,n),t=t.sibling;t!==null;)Fo(t,e,n),t=t.sibling}var se=null,ze=!1;function ut(t,e,n){for(n=n.child;n!==null;)Od(t,e,n),n=n.sibling}function Od(t,e,n){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Hs,n)}catch{}switch(n.tag){case 5:ce||_n(n,e);case 6:var r=se,s=ze;se=null,ut(t,e,n),se=r,ze=s,se!==null&&(ze?(t=se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(ze?(t=se,n=n.stateNode,t.nodeType===8?Ii(t.parentNode,n):t.nodeType===1&&Ii(t,n),wr(t)):Ii(se,n.stateNode));break;case 4:r=se,s=ze,se=n.stateNode.containerInfo,ze=!0,ut(t,e,n),se=r,ze=s;break;case 0:case 11:case 14:case 15:if(!ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Do(n,e,o),s=s.next}while(s!==r)}ut(t,e,n);break;case 1:if(!ce&&(_n(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){H(n,e,l)}ut(t,e,n);break;case 21:ut(t,e,n);break;case 22:n.mode&1?(ce=(r=ce)||n.memoizedState!==null,ut(t,e,n),ce=r):ut(t,e,n);break;default:ut(t,e,n)}}function nu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Pp),e.forEach(function(r){var s=qp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $e(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:se=l.stateNode,ze=!1;break e;case 3:se=l.stateNode.containerInfo,ze=!0;break e;case 4:se=l.stateNode.containerInfo,ze=!0;break e}l=l.return}if(se===null)throw Error(E(160));Od(i,o,s),se=null,ze=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){H(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ld(e,t),e=e.sibling}function Ld(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($e(e,t),We(t),r&4){try{ur(3,t,t.return),ti(3,t)}catch(x){H(t,t.return,x)}try{ur(5,t,t.return)}catch(x){H(t,t.return,x)}}break;case 1:$e(e,t),We(t),r&512&&n!==null&&_n(n,n.return);break;case 5:if($e(e,t),We(t),r&512&&n!==null&&_n(n,n.return),t.flags&32){var s=t.stateNode;try{mr(s,"")}catch(x){H(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zu(s,i),fo(l,o);var u=fo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?sc(s,d):c==="dangerouslySetInnerHTML"?nc(s,d):c==="children"?mr(s,d):al(s,c,d,u)}switch(l){case"input":oo(s,i);break;case"textarea":ec(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Sn(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Sn(s,!!i.multiple,i.defaultValue,!0):Sn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Er]=i}catch(x){H(t,t.return,x)}}break;case 6:if($e(e,t),We(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){H(t,t.return,x)}}break;case 3:if($e(e,t),We(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(e.containerInfo)}catch(x){H(t,t.return,x)}break;case 4:$e(e,t),We(t);break;case 13:$e(e,t),We(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ml=K())),r&4&&nu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ce=(u=ce)||c,$e(e,t),ce=u):$e(e,t),We(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(b=t,c=t.child;c!==null;){for(d=b=c;b!==null;){switch(p=b,y=p.child,p.tag){case 0:case 11:case 14:case 15:ur(4,p,p.return);break;case 1:_n(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){H(r,n,x)}}break;case 5:_n(p,p.return);break;case 22:if(p.memoizedState!==null){su(d);continue}}y!==null?(y.return=p,b=y):su(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=rc("display",o))}catch(x){H(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){H(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$e(e,t),We(t),r&4&&nu(t);break;case 21:break;default:$e(e,t),We(t)}}function We(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Td(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(mr(s,""),r.flags&=-33);var i=tu(t);Fo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=tu(t);Mo(t,l,o);break;default:throw Error(E(161))}}catch(a){H(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Op(t,e,n){b=t,Ad(t)}function Ad(t,e,n){for(var r=(t.mode&1)!==0;b!==null;){var s=b,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ns;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ce;l=ns;var u=ce;if(ns=o,(ce=a)&&!u)for(b=s;b!==null;)o=b,a=o.child,o.tag===22&&o.memoizedState!==null?iu(s):a!==null?(a.return=o,b=a):iu(s);for(;i!==null;)b=i,Ad(i),i=i.sibling;b=s,ns=l,ce=u}ru(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,b=i):ru(t)}}function ru(t){for(;b!==null;){var e=b;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ce||ti(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ce)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:De(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ma(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ma(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&wr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ce||e.flags&512&&zo(e)}catch(p){H(e,e.return,p)}}if(e===t){b=null;break}if(n=e.sibling,n!==null){n.return=e.return,b=n;break}b=e.return}}function su(t){for(;b!==null;){var e=b;if(e===t){b=null;break}var n=e.sibling;if(n!==null){n.return=e.return,b=n;break}b=e.return}}function iu(t){for(;b!==null;){var e=b;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ti(4,e)}catch(a){H(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){H(e,s,a)}}var i=e.return;try{zo(e)}catch(a){H(e,i,a)}break;case 5:var o=e.return;try{zo(e)}catch(a){H(e,o,a)}}}catch(a){H(e,e.return,a)}if(e===t){b=null;break}var l=e.sibling;if(l!==null){l.return=e.return,b=l;break}b=e.return}}var Lp=Math.ceil,Ds=at.ReactCurrentDispatcher,Dl=at.ReactCurrentOwner,Ae=at.ReactCurrentBatchConfig,U=0,re=null,J=null,ie=0,ke=0,xn=Lt(0),Z=0,Or=null,Jt=0,ni=0,zl=0,cr=null,ve=null,Ml=0,In=1/0,Xe=null,zs=!1,Bo=null,jt=null,rs=!1,wt=null,Ms=0,dr=0,Qo=null,vs=-1,ys=0;function he(){return U&6?K():vs!==-1?vs:vs=K()}function bt(t){return t.mode&1?U&2&&ie!==0?ie&-ie:pp.transition!==null?(ys===0&&(ys=gc()),ys):(t=$,t!==0||(t=window.event,t=t===void 0?16:kc(t.type)),t):1}function Qe(t,e,n,r){if(50<dr)throw dr=0,Qo=null,Error(E(185));Nr(t,n,r),(!(U&2)||t!==re)&&(t===re&&(!(U&2)&&(ni|=n),Z===4&&gt(t,ie)),Se(t,r),n===1&&U===0&&!(e.mode&1)&&(In=K()+500,Xs&&At()))}function Se(t,e){var n=t.callbackNode;ph(t,e);var r=Es(t,t===re?ie:0);if(r===0)n!==null&&pa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pa(n),e===1)t.tag===0?hp(ou.bind(null,t)):Fc(ou.bind(null,t)),up(function(){!(U&6)&&At()}),n=null;else{switch(vc(r)){case 1:n=hl;break;case 4:n=pc;break;case 16:n=ks;break;case 536870912:n=mc;break;default:n=ks}n=zd(n,Nd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nd(t,e){if(vs=-1,ys=0,U&6)throw Error(E(327));var n=t.callbackNode;if(Cn()&&t.callbackNode!==n)return null;var r=Es(t,t===re?ie:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fs(t,r);else{e=r;var s=U;U|=2;var i=Ud();(re!==t||ie!==e)&&(Xe=null,In=K()+500,Vt(t,e));do try{Ip();break}catch(l){Id(t,l)}while(!0);bl(),Ds.current=i,U=s,J!==null?e=0:(re=null,ie=0,e=Z)}if(e!==0){if(e===2&&(s=vo(t),s!==0&&(r=s,e=Vo(t,s))),e===1)throw n=Or,Vt(t,0),gt(t,r),Se(t,K()),n;if(e===6)gt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ap(s)&&(e=Fs(t,r),e===2&&(i=vo(t),i!==0&&(r=i,e=Vo(t,i))),e===1))throw n=Or,Vt(t,0),gt(t,r),Se(t,K()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Dt(t,ve,Xe);break;case 3:if(gt(t,r),(r&130023424)===r&&(e=Ml+500-K(),10<e)){if(Es(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){he(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jo(Dt.bind(null,t,ve,Xe),e);break}Dt(t,ve,Xe);break;case 4:if(gt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Be(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=K()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lp(r/1960))-r,10<r){t.timeoutHandle=jo(Dt.bind(null,t,ve,Xe),r);break}Dt(t,ve,Xe);break;case 5:Dt(t,ve,Xe);break;default:throw Error(E(329))}}}return Se(t,K()),t.callbackNode===n?Nd.bind(null,t):null}function Vo(t,e){var n=cr;return t.current.memoizedState.isDehydrated&&(Vt(t,e).flags|=256),t=Fs(t,e),t!==2&&(e=ve,ve=n,e!==null&&Wo(e)),t}function Wo(t){ve===null?ve=t:ve.push.apply(ve,t)}function Ap(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ve(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gt(t,e){for(e&=~zl,e&=~ni,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Be(e),r=1<<n;t[n]=-1,e&=~r}}function ou(t){if(U&6)throw Error(E(327));Cn();var e=Es(t,0);if(!(e&1))return Se(t,K()),null;var n=Fs(t,e);if(t.tag!==0&&n===2){var r=vo(t);r!==0&&(e=r,n=Vo(t,r))}if(n===1)throw n=Or,Vt(t,0),gt(t,e),Se(t,K()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dt(t,ve,Xe),Se(t,K()),null}function Fl(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(In=K()+500,Xs&&At())}}function Yt(t){wt!==null&&wt.tag===0&&!(U&6)&&Cn();var e=U;U|=1;var n=Ae.transition,r=$;try{if(Ae.transition=null,$=1,t)return t()}finally{$=r,Ae.transition=n,U=e,!(U&6)&&At()}}function Bl(){ke=xn.current,F(xn)}function Vt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ap(n)),J!==null)for(n=J.return;n!==null;){var r=n;switch(kl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ts();break;case 3:An(),F(_e),F(de),Al();break;case 5:Ll(r);break;case 4:An();break;case 13:F(Q);break;case 19:F(Q);break;case 10:Cl(r.type._context);break;case 22:case 23:Bl()}n=n.return}if(re=t,J=t=Ct(t.current,null),ie=ke=e,Z=0,Or=null,zl=ni=Jt=0,ve=cr=null,Bt!==null){for(e=0;e<Bt.length;e++)if(n=Bt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Bt=null}return t}function Id(t,e){do{var n=J;try{if(bl(),ps.current=qs,$s){for(var r=V.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$s=!1}if(Kt=0,ne=Y=V=null,ar=!1,Cr=0,Dl.current=null,n===null||n.return===null){Z=1,Or=e,J=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Ha(o);if(y!==null){y.flags&=-257,Ga(y,o,l,i,e),y.mode&1&&Wa(i,u,e),e=y,a=u;var w=e.updateQueue;if(w===null){var x=new Set;x.add(a),e.updateQueue=x}else w.add(a);break e}else{if(!(e&1)){Wa(i,u,e),Ql();break e}a=Error(E(426))}}else if(B&&l.mode&1){var j=Ha(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ga(j,o,l,i,e),El(Nn(a,l));break e}}i=a=Nn(a,l),Z!==4&&(Z=2),cr===null?cr=[i]:cr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=vd(i,a,e);za(i,m);break e;case 1:l=a;var f=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(jt===null||!jt.has(h)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=yd(i,l,e);za(i,v);break e}}i=i.return}while(i!==null)}$d(n)}catch(_){e=_,J===n&&n!==null&&(J=n=n.return);continue}break}while(!0)}function Ud(){var t=Ds.current;return Ds.current=qs,t===null?qs:t}function Ql(){(Z===0||Z===3||Z===2)&&(Z=4),re===null||!(Jt&268435455)&&!(ni&268435455)||gt(re,ie)}function Fs(t,e){var n=U;U|=2;var r=Ud();(re!==t||ie!==e)&&(Xe=null,Vt(t,e));do try{Np();break}catch(s){Id(t,s)}while(!0);if(bl(),U=n,Ds.current=r,J!==null)throw Error(E(261));return re=null,ie=0,Z}function Np(){for(;J!==null;)Rd(J)}function Ip(){for(;J!==null&&!ih();)Rd(J)}function Rd(t){var e=Dd(t.alternate,t,ke);t.memoizedProps=t.pendingProps,e===null?$d(t):J=e,Dl.current=null}function $d(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Cp(n,e),n!==null){n.flags&=32767,J=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Z=6,J=null;return}}else if(n=bp(n,e,ke),n!==null){J=n;return}if(e=e.sibling,e!==null){J=e;return}J=e=t}while(e!==null);Z===0&&(Z=5)}function Dt(t,e,n){var r=$,s=Ae.transition;try{Ae.transition=null,$=1,Up(t,e,n,r)}finally{Ae.transition=s,$=r}return null}function Up(t,e,n,r){do Cn();while(wt!==null);if(U&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mh(t,i),t===re&&(J=re=null,ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rs||(rs=!0,zd(ks,function(){return Cn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ae.transition,Ae.transition=null;var o=$;$=1;var l=U;U|=4,Dl.current=null,Tp(t,n),Ld(n,t),tp(ko),js=!!So,ko=So=null,t.current=n,Op(n),oh(),U=l,$=o,Ae.transition=i}else t.current=n;if(rs&&(rs=!1,wt=t,Ms=s),i=t.pendingLanes,i===0&&(jt=null),uh(n.stateNode),Se(t,K()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zs)throw zs=!1,t=Bo,Bo=null,t;return Ms&1&&t.tag!==0&&Cn(),i=t.pendingLanes,i&1?t===Qo?dr++:(dr=0,Qo=t):dr=0,At(),null}function Cn(){if(wt!==null){var t=vc(Ms),e=Ae.transition,n=$;try{if(Ae.transition=null,$=16>t?16:t,wt===null)var r=!1;else{if(t=wt,wt=null,Ms=0,U&6)throw Error(E(331));var s=U;for(U|=4,b=t.current;b!==null;){var i=b,o=i.child;if(b.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:ur(8,c,i)}var d=c.child;if(d!==null)d.return=c,b=d;else for(;b!==null;){c=b;var p=c.sibling,y=c.return;if(Pd(c),c===u){b=null;break}if(p!==null){p.return=y,b=p;break}b=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}b=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,b=o;else e:for(;b!==null;){if(i=b,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ur(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,b=m;break e}b=i.return}}var f=t.current;for(b=f;b!==null;){o=b;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,b=h;else e:for(o=f;b!==null;){if(l=b,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ti(9,l)}}catch(_){H(l,l.return,_)}if(l===o){b=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,b=v;break e}b=l.return}}if(U=s,At(),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Hs,t)}catch{}r=!0}return r}finally{$=n,Ae.transition=e}}return!1}function lu(t,e,n){e=Nn(n,e),e=vd(t,e,1),t=Et(t,e,1),e=he(),t!==null&&(Nr(t,1,e),Se(t,e))}function H(t,e,n){if(t.tag===3)lu(t,t,n);else for(;e!==null;){if(e.tag===3){lu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r))){t=Nn(n,t),t=yd(e,t,1),e=Et(e,t,1),t=he(),e!==null&&(Nr(e,1,t),Se(e,t));break}}e=e.return}}function Rp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=he(),t.pingedLanes|=t.suspendedLanes&n,re===t&&(ie&n)===n&&(Z===4||Z===3&&(ie&130023424)===ie&&500>K()-Ml?Vt(t,0):zl|=n),Se(t,e)}function qd(t,e){e===0&&(t.mode&1?(e=Hr,Hr<<=1,!(Hr&130023424)&&(Hr=4194304)):e=1);var n=he();t=ot(t,e),t!==null&&(Nr(t,e,n),Se(t,n))}function $p(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qd(t,n)}function qp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),qd(t,n)}var Dd;Dd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_e.current)we=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return we=!1,jp(t,e,n);we=!!(t.flags&131072)}else we=!1,B&&e.flags&1048576&&Bc(e,As,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gs(t,e),t=e.pendingProps;var s=Tn(e,de.current);bn(e,n),s=Il(null,e,r,t,s,n);var i=Ul();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(r)?(i=!0,Os(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tl(e),s.updater=ei,e.stateNode=s,s._reactInternals=e,Ao(e,r,t,n),e=Uo(null,e,r,!0,i,n)):(e.tag=0,B&&i&&Sl(e),fe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zp(r),t=De(r,t),s){case 0:e=Io(null,e,r,t,n);break e;case 1:e=Ya(null,e,r,t,n);break e;case 11:e=Ka(null,e,r,t,n);break e;case 14:e=Ja(null,e,r,De(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),Io(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),Ya(t,e,r,s,n);case 3:e:{if(Sd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Kc(t,e),Us(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Nn(Error(E(423)),e),e=Xa(t,e,r,n,s);break e}else if(r!==s){s=Nn(Error(E(424)),e),e=Xa(t,e,r,n,s);break e}else for(Ee=kt(e.stateNode.containerInfo.firstChild),je=e,B=!0,Fe=null,n=Hc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(On(),r===s){e=lt(t,e,n);break e}fe(t,e,r,n)}e=e.child}return e;case 5:return Jc(e),t===null&&To(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Eo(r,s)?o=null:i!==null&&Eo(r,i)&&(e.flags|=32),xd(t,e),fe(t,e,o,n),e.child;case 6:return t===null&&To(e),null;case 13:return kd(t,e,n);case 4:return Ol(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ln(e,null,r,n):fe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),Ka(t,e,r,s,n);case 7:return fe(t,e,e.pendingProps,n),e.child;case 8:return fe(t,e,e.pendingProps.children,n),e.child;case 12:return fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,z(Ns,r._currentValue),r._currentValue=o,i!==null)if(Ve(i.value,o)){if(i.children===s.children&&!_e.current){e=lt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=rt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Oo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Oo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bn(e,n),s=Ie(s),r=r(s),e.flags|=1,fe(t,e,r,n),e.child;case 14:return r=e.type,s=De(r,e.pendingProps),s=De(r.type,s),Ja(t,e,r,s,n);case 15:return wd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:De(r,s),gs(t,e),e.tag=1,xe(r)?(t=!0,Os(e)):t=!1,bn(e,n),gd(e,r,s),Ao(e,r,s,n),Uo(null,e,r,!0,t,n);case 19:return Ed(t,e,n);case 22:return _d(t,e,n)}throw Error(E(156,e.tag))};function zd(t,e){return hc(t,e)}function Dp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(t,e,n,r){return new Dp(t,e,n,r)}function Vl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zp(t){if(typeof t=="function")return Vl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cl)return 11;if(t===dl)return 14}return 2}function Ct(t,e){var n=t.alternate;return n===null?(n=Le(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ws(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Vl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dn:return Wt(n.children,s,i,e);case ul:o=8,s|=8;break;case to:return t=Le(12,n,e,s|2),t.elementType=to,t.lanes=i,t;case no:return t=Le(13,n,e,s),t.elementType=no,t.lanes=i,t;case ro:return t=Le(19,n,e,s),t.elementType=ro,t.lanes=i,t;case Ju:return ri(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gu:o=10;break e;case Ku:o=9;break e;case cl:o=11;break e;case dl:o=14;break e;case ft:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Le(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Wt(t,e,n,r){return t=Le(7,t,r,e),t.lanes=n,t}function ri(t,e,n,r){return t=Le(22,t,r,e),t.elementType=Ju,t.lanes=n,t.stateNode={isHidden:!1},t}function Fi(t,e,n){return t=Le(6,t,null,e),t.lanes=n,t}function Bi(t,e,n){return e=Le(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wl(t,e,n,r,s,i,o,l,a){return t=new Mp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Le(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(i),t}function Fp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Md(t){if(!t)return Tt;t=t._reactInternals;e:{if(Zt(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(xe(n))return Mc(t,n,e)}return e}function Fd(t,e,n,r,s,i,o,l,a){return t=Wl(n,r,!0,t,s,i,o,l,a),t.context=Md(null),n=t.current,r=he(),s=bt(n),i=rt(r,s),i.callback=e??null,Et(n,i,s),t.current.lanes=s,Nr(t,s,r),Se(t,r),t}function si(t,e,n,r){var s=e.current,i=he(),o=bt(s);return n=Md(n),e.context===null?e.context=n:e.pendingContext=n,e=rt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Et(s,e,o),t!==null&&(Qe(t,s,o,i),hs(t,s,o)),o}function Bs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function au(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hl(t,e){au(t,e),(t=t.alternate)&&au(t,e)}function Bp(){return null}var Bd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gl(t){this._internalRoot=t}ii.prototype.render=Gl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));si(t,e,null,null)};ii.prototype.unmount=Gl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yt(function(){si(null,t,null,null)}),e[it]=null}};function ii(t){this._internalRoot=t}ii.prototype.unstable_scheduleHydration=function(t){if(t){var e=_c();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mt.length&&e!==0&&e<mt[n].priority;n++);mt.splice(n,0,t),n===0&&Sc(t)}};function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uu(){}function Qp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Bs(o);i.call(u)}}var o=Fd(e,r,t,0,null,!1,!1,"",uu);return t._reactRootContainer=o,t[it]=o.current,Sr(t.nodeType===8?t.parentNode:t),Yt(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Bs(a);l.call(u)}}var a=Wl(t,0,!1,null,null,!1,!1,"",uu);return t._reactRootContainer=a,t[it]=a.current,Sr(t.nodeType===8?t.parentNode:t),Yt(function(){si(e,a,n,r)}),a}function li(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Bs(o);l.call(a)}}si(e,o,t,s)}else o=Qp(n,e,t,s,r);return Bs(o)}yc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=er(e.pendingLanes);n!==0&&(pl(e,n|1),Se(e,K()),!(U&6)&&(In=K()+500,At()))}break;case 13:Yt(function(){var r=ot(t,1);if(r!==null){var s=he();Qe(r,t,1,s)}}),Hl(t,1)}};ml=function(t){if(t.tag===13){var e=ot(t,134217728);if(e!==null){var n=he();Qe(e,t,134217728,n)}Hl(t,134217728)}};wc=function(t){if(t.tag===13){var e=bt(t),n=ot(t,e);if(n!==null){var r=he();Qe(n,t,e,r)}Hl(t,e)}};_c=function(){return $};xc=function(t,e){var n=$;try{return $=t,e()}finally{$=n}};po=function(t,e,n){switch(e){case"input":if(oo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ys(r);if(!s)throw Error(E(90));Xu(r),oo(r,s)}}}break;case"textarea":ec(t,n);break;case"select":e=n.value,e!=null&&Sn(t,!!n.multiple,e,!1)}};lc=Fl;ac=Yt;var Vp={usingClientEntryPoint:!1,Events:[Ur,mn,Ys,ic,oc,Fl]},Jn={findFiberByHostInstance:Ft,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:Jn.bundleType,version:Jn.version,rendererPackageName:Jn.rendererPackageName,rendererConfig:Jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:at.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dc(t),t===null?null:t.stateNode},findFiberByHostInstance:Jn.findFiberByHostInstance||Bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ss.isDisabled&&ss.supportsFiber)try{Hs=ss.inject(Wp),Ke=ss}catch{}}Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp;Ce.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kl(e))throw Error(E(200));return Fp(t,e,null,n)};Ce.createRoot=function(t,e){if(!Kl(t))throw Error(E(299));var n=!1,r="",s=Bd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wl(t,1,!1,null,null,n,!1,r,s),t[it]=e.current,Sr(t.nodeType===8?t.parentNode:t),new Gl(e)};Ce.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=dc(e),t=t===null?null:t.stateNode,t};Ce.flushSync=function(t){return Yt(t)};Ce.hydrate=function(t,e,n){if(!oi(e))throw Error(E(200));return li(null,t,e,!0,n)};Ce.hydrateRoot=function(t,e,n){if(!Kl(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Bd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fd(e,null,t,1,n??null,s,!1,i,o),t[it]=e.current,Sr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ii(e)};Ce.render=function(t,e,n){if(!oi(e))throw Error(E(200));return li(null,t,e,!1,n)};Ce.unmountComponentAtNode=function(t){if(!oi(t))throw Error(E(40));return t._reactRootContainer?(Yt(function(){li(null,null,t,!1,function(){t._reactRootContainer=null,t[it]=null})}),!0):!1};Ce.unstable_batchedUpdates=Fl;Ce.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oi(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return li(t,e,n,!1,r)};Ce.version="18.3.1-next-f1338f8080-20240426";function Qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qd)}catch(t){console.error(t)}}Qd(),Qu.exports=Ce;var Hp=Qu.exports,Vd,cu=Hp;Vd=cu.createRoot,cu.hydrateRoot;const Gp="modulepreload",Kp=function(t){return"/StackEval/"+t},du={},$r=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Kp(a),a in du)return;du[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Gp,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((p,y)=>{d.addEventListener("load",p),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Jp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$r(async()=>{const{default:r}=await Promise.resolve().then(()=>Dn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Jl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Yp extends Jl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fu extends Jl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hu extends Jl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ho;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ho||(Ho={}));var Xp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Zp{constructor(e,{headers:n={},customFetch:r,region:s=Ho.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Jp(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Xp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(x=>{throw new Yp(x)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new fu(d);if(!d.ok)throw new hu(d);let y=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield d.json():y==="application/octet-stream"?w=yield d.blob():y==="text/event-stream"?w=d:y==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof hu||s instanceof fu?s.context:void 0}}})}}var ye={},Yl={},ai={},qr={},ui={},ci={},em=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Un=em();const tm=Un.fetch,Wd=Un.fetch.bind(Un),Hd=Un.Headers,nm=Un.Request,rm=Un.Response,Dn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hd,Request:nm,Response:rm,default:Wd,fetch:tm},Symbol.toStringTag,{value:"Module"})),sm=xf(Dn);var di={};Object.defineProperty(di,"__esModule",{value:!0});let im=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};di.default=im;var Gd=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ci,"__esModule",{value:!0});const om=Gd(sm),lm=Gd(di);let am=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=om.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,c=null,d=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&j&&j.length>1&&(d=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,y="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,y="OK")}catch{i.status===404&&x===""?(p=204,y="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&this.shouldThrowOnError)throw new lm.default(u)}return{error:u,data:c,count:d,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};ci.default=am;var um=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});const cm=um(ci);let dm=class extends cm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ui.default=dm;var fm=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});const hm=fm(ui);let pm=class extends hm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};qr.default=pm;var mm=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});const Yn=mm(qr);let gm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ai.default=gm;var fi={},hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.version=void 0;hi.version="0.0.0-automated";Object.defineProperty(fi,"__esModule",{value:!0});fi.DEFAULT_HEADERS=void 0;const vm=hi;fi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vm.version}`};var Kd=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yl,"__esModule",{value:!0});const ym=Kd(ai),wm=Kd(qr),_m=fi;let xm=class Jd{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},_m.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new ym.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{l.searchParams.append(c,d)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new wm.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Yl.default=xm;var zn=Ne&&Ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ye,"__esModule",{value:!0});ye.PostgrestError=ye.PostgrestBuilder=ye.PostgrestTransformBuilder=ye.PostgrestFilterBuilder=ye.PostgrestQueryBuilder=ye.PostgrestClient=void 0;const Yd=zn(Yl);ye.PostgrestClient=Yd.default;const Xd=zn(ai);ye.PostgrestQueryBuilder=Xd.default;const Zd=zn(qr);ye.PostgrestFilterBuilder=Zd.default;const ef=zn(ui);ye.PostgrestTransformBuilder=ef.default;const tf=zn(ci);ye.PostgrestBuilder=tf.default;const nf=zn(di);ye.PostgrestError=nf.default;var Sm=ye.default={PostgrestClient:Yd.default,PostgrestQueryBuilder:Xd.default,PostgrestFilterBuilder:Zd.default,PostgrestTransformBuilder:ef.default,PostgrestBuilder:tf.default,PostgrestError:nf.default};const{PostgrestClient:km,PostgrestQueryBuilder:Pv,PostgrestFilterBuilder:Tv,PostgrestTransformBuilder:Ov,PostgrestBuilder:Lv,PostgrestError:Av}=Sm;function Em(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const jm=Em(),bm="2.11.15",Cm=`realtime-js/${bm}`,Pm="1.0.0",rf=1e4,Tm=1e3;var fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fr||(fr={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var Me;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Me||(Me={}));var Go;(function(t){t.websocket="websocket"})(Go||(Go={}));var Mt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mt||(Mt={}));class Om{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class sf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var D;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(D||(D={}));const pu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Lm(o,t,e,s),i),{})},Lm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?of(i,o):Ko(o)},of=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Um(e,n)}switch(t){case D.bool:return Am(e);case D.float4:case D.float8:case D.int2:case D.int4:case D.int8:case D.numeric:case D.oid:return Nm(e);case D.json:case D.jsonb:return Im(e);case D.timestamp:return Rm(e);case D.abstime:case D.date:case D.daterange:case D.int4range:case D.int8range:case D.money:case D.reltime:case D.text:case D.time:case D.timestamptz:case D.timetz:case D.tsrange:case D.tstzrange:return Ko(e);default:return Ko(e)}},Ko=t=>t,Am=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Nm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Im=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Um=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>of(e,l))}return t},Rm=t=>typeof t=="string"?t.replace(" ","T"):t,lf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Qi{constructor(e,n,r={},s=rf){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mu||(mu={}));class hr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=hr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const p=c.map(j=>j.presence_ref),y=d.map(j=>j.presence_ref),w=c.filter(j=>y.indexOf(j.presence_ref)<0),x=d.filter(j=>p.indexOf(j.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(a[u]=x)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(y=>y.presence_ref),p=c.filter(y=>d.indexOf(y.presence_ref)<0);e[l].unshift(...p)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gu||(gu={}));var vu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vu||(vu={}));var Ze;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ze||(Ze={}));class Xl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qi(this,Me.join,this.params,this.timeout),this.rejoinTimer=new sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Me.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new hr(this),this.broadcastEndpointURL=lf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(c=>e==null?void 0:e(Ze.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ze.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Ze.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,w=[];for(let x=0;x<y;x++){const j=p[x],{filter:{event:m,schema:f,table:h,filter:v}}=j,_=c&&c[x];if(_&&_.event===m&&_.schema===f&&_.table===h&&_.filter===v)w.push(Object.assign(Object.assign({},j),{id:_.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(Ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Ze.SUBSCRIBED);return}}).receive("error",c=>{this.state=ue.errored,e==null||e(Ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Me.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Qi(this,Me.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qi(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=Me;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,x,j;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=y.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(y=>y.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,x,j,m,f,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,_=(w=y.filter)===null||w===void 0?void 0:w.event;return v&&((x=n.ids)===null||x===void 0?void 0:x.includes(v))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const v=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((h=n==null?void 0:n.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:x,table:j,commit_timestamp:m,type:f,errors:h}=w;p=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:m,eventType:f,new:{},old:{},errors:h}),this._getPayloadRecords(w))}y.callback(p,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Xl.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Me.close,{},e)}_onError(e){this._on(Me.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pu(e.columns,e.old_record)),n}}const yu=()=>{},$m=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qm{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yu,this.ref=0,this.logger=yu,this.conn=null,this.sendBuffer=[],this.serializer=new Om,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>$r(async()=>{const{default:a}=await Promise.resolve().then(()=>Dn);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Go.websocket}`,this.httpEndpoint=lf(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=jm),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pm}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return Mt.Connecting;case fr.open:return Mt.Open;case fr.closing:return Mt.Closing;default:return Mt.Closed}}isConnected(){return this.connectionState()===Mt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Xl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Cm};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Me.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Tm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Me.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([$m],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Zl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Dm extends Zl{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jo extends Zl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var zm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const af=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$r(async()=>{const{default:r}=await Promise.resolve().then(()=>Dn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Mm=()=>zm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $r(()=>Promise.resolve().then(()=>Dn),void 0)).Response:Response}),Yo=t=>{if(Array.isArray(t))return t.map(n=>Yo(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Yo(r)}),e};var en=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Vi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fm=(t,e,n)=>en(void 0,void 0,void 0,function*(){const r=yield Mm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Dm(Vi(s),t.status||500))}).catch(s=>{e(new Jo(Vi(s),s))}):e(new Jo(Vi(t),t))}),Bm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Dr(t,e,n,r,s,i){return en(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Bm(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Fm(a,l,r))})})}function Qs(t,e,n,r){return en(this,void 0,void 0,function*(){return Dr(t,"GET",e,n,r)})}function pt(t,e,n,r,s){return en(this,void 0,void 0,function*(){return Dr(t,"POST",e,r,s,n)})}function Qm(t,e,n,r,s){return en(this,void 0,void 0,function*(){return Dr(t,"PUT",e,r,s,n)})}function Vm(t,e,n,r){return en(this,void 0,void 0,function*(){return Dr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uf(t,e,n,r,s){return en(this,void 0,void 0,function*(){return Dr(t,"DELETE",e,r,s,n)})}var ge=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Wm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hm{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=af(s)}uploadOrUpdate(e,n,r,s){return ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},wu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(te(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:wu.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(a){if(te(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}update(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ge(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}download(e,n){return ge(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Qs(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}})}info(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Qs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yo(r),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}exists(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Vm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(te(r)&&r instanceof Jo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}list(e,n,r){return ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Wm),n),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Gm="2.7.1",Km={"X-Client-Info":`storage-js/${Gm}`};var nn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Jm{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Km),n),this.fetch=af(r)}listBuckets(){return nn(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return nn(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return nn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return nn(this,void 0,void 0,function*(){try{return{data:yield Qm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return nn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}deleteBucket(e){return nn(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}}class Ym extends Jm{constructor(e,n={},r){super(e,n,r)}from(e){return new Hm(this.url,this.headers,e,this.fetch)}}const Xm="2.52.1";let nr="";typeof Deno<"u"?nr="deno":typeof document<"u"?nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nr="react-native":nr="node";const Zm={"X-Client-Info":`supabase-js-${nr}/${Xm}`},eg={headers:Zm},tg={schema:"public"},ng={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rg={};var sg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const ig=t=>{let e;return t?e=t:typeof fetch>"u"?e=Wd:e=fetch,(...n)=>e(...n)},og=()=>typeof Headers>"u"?Hd:Headers,lg=(t,e,n)=>{const r=ig(n),s=og();return(i,o)=>sg(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ag=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function ug(t){return t.endsWith("/")?t:t+"/"}function cg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:d}=e,p={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ag(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const cf="2.71.1",an=30*1e3,Xo=3,Wi=Xo*an,dg="http://localhost:9999",fg="supabase.auth.token",hg={"X-Client-Info":`gotrue-js/${cf}`},Zo="X-Supabase-Api-Version",df={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mg=10*60*1e3;class ea extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function T(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gg extends ea{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vg(t){return T(t)&&t.name==="AuthApiError"}class ff extends ea{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nt extends ea{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class dt extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yg(t){return T(t)&&t.name==="AuthSessionMissingError"}class is extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class os extends Nt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ls extends Nt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wg(t){return T(t)&&t.name==="AuthImplicitGrantRedirectError"}class _u extends Nt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class el extends Nt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hi(t){return T(t)&&t.name==="AuthRetryableFetchError"}class xu extends Nt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tl extends Nt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=` 	
\r=`.split(""),_g=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Su.length;e+=1)t[Su[e].charCodeAt(0)]=-2;for(let e=0;e<Vs.length;e+=1)t[Vs[e].charCodeAt(0)]=e;return t})();function ku(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Vs[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Vs[r]),e.queuedBits-=6}}function hf(t,e,n){const r=_g[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Eu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{kg(o,r,n)};for(let o=0;o<t.length;o+=1)hf(t.charCodeAt(o),s,i);return e.join("")}function xg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Sg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}xg(r,e)}}function kg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Eg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)hf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function jg(t){const e=[];return Sg(t,n=>e.push(n)),new Uint8Array(e)}function bg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>ku(s,n,r)),ku(null,n,r),e.join("")}function Cg(t){return Math.round(Date.now()/1e3)+t}function Pg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",Rt={tested:!1,writable:!1},pf=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rt.tested)return Rt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Rt.tested=!0,Rt.writable=!0}catch{Rt.tested=!0,Rt.writable=!1}return Rt.writable};function Tg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const mf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$r(async()=>{const{default:r}=await Promise.resolve().then(()=>Dn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Og=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",un=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},$t=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ct=async(t,e)=>{await t.removeItem(e)};class pi{constructor(){this.promise=new pi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pi.promiseConstructor=Promise;function Gi(t){const e=t.split(".");if(e.length!==3)throw new tl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!pg.test(e[r]))throw new tl("JWT not in base64url format");return{header:JSON.parse(Eu(e[0])),payload:JSON.parse(Eu(e[1])),signature:Eg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ag(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Ng(t){return("0"+t.toString(16)).substr(-2)}function Ig(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Ng).join("")}async function Ug(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Rg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Ug(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rn(t,e,n=!1){const r=Ig();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await un(t,`${e}-code-verifier`,s);const i=await Rg(r);return[i,r===i?"plain":"s256"]}const $g=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qg(t){const e=t.headers.get(Zo);if(!e||!e.match($g))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Dg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sn(t){if(!Mg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ki(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ju(t){return JSON.parse(JSON.stringify(t))}var Fg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Bg=[502,503,504];async function bu(t){var e;if(!Og(t))throw new el(zt(t),0);if(Bg.includes(t.status))throw new el(zt(t),t.status);let n;try{n=await t.json()}catch(i){throw new ff(zt(i),i)}let r;const s=qg(t);if(s&&s.getTime()>=df["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xu(zt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xu(zt(n),t.status,n.weak_password.reasons);throw new gg(zt(n),t.status||500,r)}const Qg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function N(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Zo]||(i[Zo]=df["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Vg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Vg(t,e,n,r,s,i){const o=Qg(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new el(zt(a),0)}if(l.ok||await bu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await bu(a)}}function Ye(t){var e;let n=null;Kg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Cg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Cu(t){const e=Ye(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Wg(t){return{data:t,error:null}}function Hg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Fg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Gg(t){return t}function Kg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ji=["global","local","others"];var Jg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Yg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ji[0]){if(Ji.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ji.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Jg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Hg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(T(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Gg});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(T(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){sn(e);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vt})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){sn(e);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){sn(e);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vt})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){sn(e.userId);try{const{data:n,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(T(n))return{data:null,error:n};throw n}}async _deleteFactor(e){sn(e.userId),sn(e.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}}function Pu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Xg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const on={debug:!!(globalThis&&pf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zg extends gf{}async function ev(t,e,n){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),on.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){on.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{on.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw on.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(on.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Xg();const tv={url:dg,storageKey:fg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tu(t,e,n){return await n()}const ln={};class Lr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Lr.nextInstanceID,Lr.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Yg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mf(s.fetch),this.lock=s.lock||Tu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ev:this.lock=Tu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:pf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Pu(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=ln[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ln[this.storageKey]=Object.assign(Object.assign({},ln[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ln[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ln[this.storageKey]=Object.assign(Object.assign({},ln[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Tg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wg(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return T(n)?{error:n}:{error:new ff("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:p}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await rn(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:w},xform:Ye})}else if("phone"in e){const{phone:c,password:d,options:p}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ye})}else throw new os("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cu})}else throw new os("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new is}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,c,d,p,y;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:j,wallet:m,statement:f,options:h}=e;let v;if(qe())if(typeof m=="object")v=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))v=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const _=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in v&&v.signIn){const S=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=h==null?void 0:h.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((u=h==null?void 0:h.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((d=(c=h==null?void 0:h.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...h.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await v.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:j,error:m}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:bg(x)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ye});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new is}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(T(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await $t(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ye});if(await ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new is}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(T(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ye}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new is}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await rn(this.storage,this.storageKey));const{error:d}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new os("You must provide either an email or phone number.")}catch(l){if(T(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ye});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await rn(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Wg})}catch(i){if(T(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new dt;const{error:s}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(T(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await N(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await N(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new os("You must provide either an email or phone number and a type")}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await $t(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Wi:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await $t(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ki()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vt})})}catch(n){if(T(n))return yg(n)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new dt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await rn(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:vt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Gi(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(T(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new dt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!qe())throw new ls("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ls(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ls("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _u("No code detected.");const{data:f,error:h}=await this._exchangeCodeForSession(e.code);if(h)throw h;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ls("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let p=c+d;a&&(p=parseInt(a));const y=p-c;y*1e3<=an&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const w=p-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,c);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(T(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await $t(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(vg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Pg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await rn(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(T(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:d,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(T(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ag(async s=>(s>0&&await Lg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ye})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Hi(i)&&Date.now()+o-r<an})}catch(r){if(this._debug(n,"error",r),T(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await $t(this.storage,this.storageKey);if(s&&this.userStorage){let o=await $t(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await un(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ki()}else if(s&&!s.user&&!s.user){const o=await $t(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ct(this.storage,this.storageKey+"-user"),await un(this.storage,this.storageKey,s)):s.user=Ki()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wi;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Wi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Hi(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),T(i)){const o={session:null,error:i};return Hi(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await un(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ju(s);await un(this.storage,this.storageKey,i)}else{const s=ju(n);await un(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),an);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/an);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${an}ms, refresh threshold is ${Xo} ticks`),s<=Xo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await rn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(T(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(T(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Gi(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+mg>s)return r;const{data:i,error:o}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Gi(r);n!=null&&n.allowExpired||Dg(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=zg(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,jg(`${l}.${a}`)))throw new tl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}}Lr.nextInstanceID=0;const nv=Lr;class rv extends nv{constructor(e){super(e)}}var sv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class iv{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=ug(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:tg,realtime:rg,auth:Object.assign(Object.assign({},ng),{storageKey:u}),global:eg},d=cg(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=lg(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new km(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Zp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ym(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return sv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rv({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ov=(t,e,n)=>new iv(t,e,n);function lv(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}lv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const av="https://wuaeyoittsfiehlailge.supabase.co",uv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1YWV5b2l0dHNmaWVobGFpbGdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NjMzOTYsImV4cCI6MjA2OTAzOTM5Nn0.r8mG6GJUPdz2iAzVKw5acz0yVbov36tW_Y3MRLsuUA0",X=ov(av,uv),cv=({onLogin:t})=>{const[e,n]=R.useState(!0),[r,s]=R.useState(""),[i,o]=R.useState(""),[l,a]=R.useState(""),[u,c]=R.useState(""),[d,p]=R.useState(""),y=async w=>{var x,j,m;if(w.preventDefault(),!i||!l||!e&&!r){c("Veuillez remplir tous les champs.");return}if(c(""),p(""),e){const{data:f,error:h}=await X.auth.signInWithPassword({email:i,password:l});if(h||!((x=f.user)!=null&&x.id)){c((h==null?void 0:h.message)||"Erreur d'authentification");return}if(!f.user.email_confirmed_at){p("Veuillez confirmer votre email avant de vous connecter."),await X.auth.signOut();return}t(f.user.id)}else{const{data:f,error:h}=await X.auth.signUp({email:i,password:l,options:{data:{username:r}}});if(h){c(h.message||"Erreur lors de l'inscription.");return}if(!f.user||((m=(j=f.user)==null?void 0:j.identities)==null?void 0:m.length)===0){c("Cette adresse email est déjà utilisée. Essayez de vous connecter.");return}localStorage.setItem("pendingUsername",r),p("Un email de confirmation vous a été envoyé. Veuillez vérifier votre boîte mail.")}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12",children:g.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-sm p-6 sm:p-8",children:[g.jsxs("header",{className:"mb-8",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:e?"Connexion":"Inscription"}),g.jsx("p",{className:"text-gray-600 text-center text-sm",children:e?"Connectez-vous pour accéder à votre compte":"Créez un compte pour suivre vos performances"})]}),g.jsxs("form",{onSubmit:y,className:"space-y-6",children:[!e&&g.jsxs("div",{children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom d'utilisateur"}),g.jsx("input",{id:"username",type:"text",value:r,onChange:w=>s(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-900",placeholder:"Votre nom d'utilisateur"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),g.jsx("input",{id:"email",type:"email",value:i,onChange:w=>o(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-900",placeholder:"votre@email.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),g.jsx("input",{id:"password",type:"password",value:l,onChange:w=>a(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-900",placeholder:"••••••••"})]}),u&&g.jsx("div",{className:"p-3 bg-red-50 border border-red-100 rounded-md text-red-600 text-sm",children:u}),d&&g.jsx("div",{className:"p-3 bg-green-50 border border-green-100 rounded-md text-green-700 text-sm",children:d}),g.jsx("button",{type:"submit",className:"w-full bg-gray-900 hover:bg-gray-800 text-white font-medium py-3 px-4 rounded-md transition-colors",children:e?"Se connecter":"S'inscrire"})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{className:"text-gray-600 hover:text-gray-900 text-sm font-medium",onClick:()=>n(!e),children:e?"Pas encore de compte ? S'inscrire":"Déjà un compte ? Se connecter"})})]})})},dv=({onStartQuiz:t,unlockedLevels:e})=>{const[n,r]=R.useState(""),[s,i]=R.useState(""),[o,l]=R.useState(""),a=[{id:"user",label:"Certified User"},{id:"associate",label:"Certified Associate"},{id:"pro",label:"Certified Professional"}],u=[{id:"fundamentals",label:"Fondamentaux"},{id:"evaluation",label:"Evaluation"},{id:"scripting",label:"Scripting & C#"}],c=()=>{if(!s){l("Veuillez sélectionner un niveau");return}if(!n){l("Veuillez sélectionner une catégorie");return}l(""),t(n,s)};return g.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:g.jsxs("div",{className:"w-full max-w-xl bg-white rounded-lg shadow-sm p-6 sm:p-8",children:[g.jsxs("header",{className:"mb-10",children:[g.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 text-center",children:"StackEval"}),g.jsx("p",{className:"text-gray-600 text-center",children:"Êtes-vous prêt pour la certif ? Faites le test."})]}),g.jsxs("section",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Niveau de certification"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:a.map(d=>{const p=e.includes(d.id);return g.jsx("button",{disabled:!p,className:`py-2 px-3 rounded-md border transition-colors font-semibold ${s===d.id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"} ${p?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>p&&i(d.id),children:d.label},d.id)})})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Catégorie"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:u.map(d=>g.jsx("button",{className:`py-3 px-4 rounded-md border transition-colors font-semibold text-sm ${n===d.id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,onClick:()=>r(d.id),children:d.label},d.id))}),n==="evaluation"&&g.jsxs("p",{className:"mt-4 text-sm text-gray-500 text-center",children:["Obtenez ",g.jsx("span",{className:"font-medium text-gray-800",children:"80%"})," à l’évaluation pour débloquer le niveau suivant."]})]})]}),o&&g.jsx("div",{className:"mt-6 p-3 bg-red-50 border border-red-100 rounded-md text-red-600 text-sm text-center",children:o}),g.jsx("div",{className:"mt-10 text-center",children:g.jsx("button",{className:"bg-gray-900 hover:bg-gray-800 text-white font-medium py-3 px-8 rounded-md transition-colors w-full sm:w-auto",onClick:c,children:"Commencer le quiz"})})]})})},vf=({question:t,selectedAnswer:e,onSelectAnswer:n,showCorrectAnswer:r})=>{const[s,i]=R.useState([]);R.useEffect(()=>{const a=t.options.map((u,c)=>({option:u,originalIndex:c}));for(let u=a.length-1;u>0;u--){const c=Math.floor(Math.random()*(u+1));[a[u],a[c]]=[a[c],a[u]]}i(a)},[t]);const o=a=>{const u="border rounded-md p-4 transition-colors cursor-pointer flex items-start";return r?a===s.findIndex(c=>c.originalIndex===t.correctAnswer)?"bg-green-50 border-green-200 "+u:e===s[a].originalIndex?"bg-red-50 border-red-200 "+u:"border-gray-200 "+u:e===s[a].originalIndex?"bg-gray-100 border-gray-300 "+u:"hover:bg-gray-50 border-gray-200 "+u},l=a=>{n&&n(s[a].originalIndex)};return g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-6",children:t.question}),g.jsx("div",{className:"space-y-3",children:s.map((a,u)=>g.jsxs("div",{className:o(u),onClick:()=>l(u),children:[g.jsx("div",{className:"mr-3 mt-0.5 flex-shrink-0",children:g.jsx("div",{className:`w-5 h-5 rounded-full border ${e===s[u].originalIndex?"bg-gray-900 border-gray-900":"border-gray-400"} flex items-center justify-center`,children:e===s[u].originalIndex&&g.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})}),g.jsx("div",{className:"text-gray-700",children:a.option})]},u))}),r&&g.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[g.jsx("p",{className:"font-medium text-gray-900 mb-2",children:"Explication :"}),g.jsx("p",{className:"text-gray-700",children:t.explanation})]})]})},fv=async(t,e)=>{console.log("➡️ Saving quiz result:",{userId:t,result:e});const{error:n}=await X.from("quiz_results").insert({user_id:t,date:e.date,mode:e.mode,difficulty:e.difficulty,score:e.score,totalQuestions:e.totalQuestions,correctAnswers:e.correctAnswers});if(n)throw console.error("❌ Supabase insert error:",n),n},Yi=["user","associate","pro"];async function yf(t,e,n,r){if(e!=="evaluation")return;const s=Yi.indexOf(n);if(s===-1||s>=Yi.length-1||r<80)return;const i=Yi[s+1],{data:o,error:l}=await X.from("profiles").select("unlockedLevels").eq("id",t).maybeSingle();if(l){console.error("❌ Erreur chargement profil pour déblocage :",l.message);return}if(!o){console.warn("⚠️ Aucun profil trouvé pour déblocage.");return}const a=o.unlockedLevels||[];if(a.includes(i)){console.log(`✅ Niveau '${i}' déjà débloqué`);return}const u=[...a,i],{error:c}=await X.from("profiles").update({unlockedLevels:u}).eq("id",t);c?console.error("❌ Erreur mise à jour des niveaux débloqués :",c.message):console.log(`✅ Niveau '${i}' débloqué pour l'utilisateur ${t}`)}async function hv(t){const{data:e,error:n}=await X.from("profiles").select("unlockedLevels").eq("id",t).maybeSingle();return!n&&(e!=null&&e.unlockedLevels)?e.unlockedLevels:[]}const pv=({questions:t,userAnswers:e,onSubmitAnswer:n,onFinishQuiz:r,quizSettings:s,userId:i,setUnlockedLevels:o})=>{const[l,a]=R.useState(0),u=t.length,c=()=>{l<u-1&&a(l+1)},d=()=>{l>0&&a(l-1)},p=async()=>{const f=e.filter(_=>_===null).length;if(f>0){const _=`Vous avez ${f} question${f>1?"s":""} sans réponse. Voulez-vous continuer ?`;if(!window.confirm(_))return}const h=t.reduce((_,S,k)=>e[k]===S.correctAnswer?_+1:_,0),v=Math.round(h/u*100);try{try{if(console.log("🔑 Tentative de déblocage du niveau supérieur..."),await yf(i,s.mode,s.difficulty,v),console.log("✅ Déblocage terminé"),s.mode==="evaluation"&&v>=80){const _=await hv(i);o(_)}}catch(_){console.error("Erreur déblocage niveau :",_)}}catch(_){_ instanceof Error?console.error("Erreur enregistrement résultat :",_.message):console.error("Erreur inconnue :",_)}r()},y=f=>({fundamentals:"Fondamentaux",scripting:"Scripting & C#",evaluation:"Évaluation"})[f]||f,w=f=>({user:"Certified User",associate:"Certified Associate",pro:"Certified Professional"})[f]||f,x=t[l],j=e.filter(f=>f!==null).length,m=j/u*100;return g.jsxs("div",{className:"flex flex-col flex-1 bg-gray-50",children:[g.jsx("header",{className:"bg-white border-b border-gray-200 py-4",children:g.jsxs("div",{className:"container mx-auto px-4 max-w-3xl flex justify-between items-center",children:[g.jsx("h1",{className:"text-lg font-medium text-gray-900",children:y(s.mode)}),g.jsxs("div",{className:"text-sm text-gray-600",children:["Niveau : ",w(s.difficulty)]})]})}),g.jsxs("main",{className:"flex-grow container mx-auto px-4 py-6 max-w-3xl",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-3",children:[g.jsxs("span",{children:[j,"/",u," répondues"]}),g.jsxs("span",{children:["Question ",l+1,"/",u]})]}),g.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5",children:g.jsx("div",{className:"bg-gray-900 h-1.5 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}),g.jsx(vf,{question:x,selectedAnswer:e[l],onSelectAnswer:f=>n(l,f),showCorrectAnswer:!1}),g.jsxs("div",{className:"flex justify-between mt-8",children:[g.jsx("button",{onClick:d,disabled:l===0,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Précédente"}),l<u-1?g.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:"Suivante"}):g.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:"Terminer"})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("button",{className:"text-gray-600 hover:text-gray-900 text-sm font-medium",onClick:p,children:"Terminer et voir les résultats"})})]})]})},mv=({questions:t,userAnswers:e,onRestartQuiz:n,quizSettings:r})=>{const[s,i]=R.useState(0),o=t.length,l=t.filter((m,f)=>e[f]===m.correctAnswer).length,a=e.filter(m=>m===null).length,u=l/o*100,c=()=>{s<o-1&&i(s+1)},d=()=>{s>0&&i(s-1)},p=()=>u>=80?"text-green-700":u>=60?"text-blue-700":u>=40?"text-yellow-700":"text-red-700",y=m=>({unity:"Unity",csharp:"C#",evaluation:"Évaluation"})[m]||m,w=m=>({beginner:"Débutant",easy:"Facile",medium:"Moyen",hard:"Difficile",expert:"Expert"})[m]||m,x=t[s],j=e[s];return g.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:g.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[g.jsxs("header",{className:"mb-8",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-6",children:"Résultats du Quiz"}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[g.jsxs("span",{children:["Mode : ",y(r.mode)]}),g.jsx("span",{className:"mx-3",children:"•"}),g.jsxs("span",{children:["Niveau : ",w(r.difficulty)]})]}),g.jsx("div",{className:"text-5xl font-bold mb-3",children:g.jsxs("span",{className:p(),children:[u.toFixed(0),"%"]})}),g.jsxs("div",{className:"text-gray-700",children:[l," bonne",l!==1?"s":""," réponse sur ",o,a>0&&g.jsxs("div",{className:"text-sm text-gray-500 mt-1 text-center",children:["(",a," question",a>1?"s":""," sans réponse)"]})]})]})]}),g.jsxs("section",{className:"border-t border-b border-gray-200 py-6 mb-6",children:[g.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-6",children:"Révision des questions"}),g.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[g.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Question ",s+1,"/",o]}),g.jsx("div",{className:"text-sm",children:j===x.correctAnswer?g.jsx("span",{className:"text-green-600",children:"✓ Réponse correcte"}):j===null?g.jsx("span",{className:"text-gray-500",children:"⚠ Sans réponse"}):g.jsx("span",{className:"text-red-600",children:"✗ Réponse incorrecte"})})]}),g.jsx(vf,{question:x,selectedAnswer:j,showCorrectAnswer:!0})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("button",{onClick:d,disabled:s===0,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Précédente"}),g.jsx("button",{onClick:c,disabled:s===o-1,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivante"})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("button",{className:"bg-gray-900 hover:bg-gray-800 text-white font-medium py-3 px-8 rounded-md transition-colors",onClick:n,children:"Nouveau Quiz"})})]})})},gv=({userId:t,onStartNewQuiz:e})=>{const[n,r]=R.useState(""),[s]=R.useState(""),[i,o]=R.useState([]),[l,a]=R.useState([]),[u,c]=R.useState(!0);R.useEffect(()=>{(async()=>{console.log("🔎 Tentative de chargement du profil pour userId :",t),c(!0);try{const{data:_,error:S}=await X.from("profiles").select("username,unlockedLevels").eq("id",t).maybeSingle();if(S)throw S;if(!_){console.warn("⚠️ Aucun profil trouvé pour cet utilisateur dans Supabase."),r(""),o([]);return}r(_.username??""),o(_.unlockedLevels??[]);const{data:k,error:P}=await X.from("quiz_results").select("*").eq("user_id",t).order("date",{ascending:!1});if(P)throw P;a(k||[])}catch(_){console.error("❌ Erreur chargement profil :",_.message||_)}finally{c(!1)}})()},[t]);const d=l.length,p=d>0?l.reduce((v,_)=>v+_.score,0)/d:0,y=v=>({beginner:"Débutant",easy:"Facile",medium:"Moyen",hard:"Difficile",expert:"Expert"})[v]||v,w=v=>({unity:"Unity",csharp:"C#",evaluation:"Évaluation"})[v]||v,x=v=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(v)),j=v=>l.reduce((_,S)=>{const k=v==="mode"?S.mode:S.difficulty;return _[k]||(_[k]={count:0,totalScore:0}),_[k].count+=1,_[k].totalScore+=S.score,_},{}),m=j("mode"),f=j("difficulty"),h=l.slice(0,5);return g.jsx("div",{className:"min-h-screen bg-gray-50",children:g.jsx("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u?g.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chargement du profil…"}):g.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[g.jsxs("header",{className:"mb-8",children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Profil de ",n]}),g.jsx("p",{className:"text-gray-600",children:s})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[g.jsx(Xi,{title:"Total de quiz",value:d}),g.jsx(Xi,{title:"Score moyen",value:`${p.toFixed(1)}%`}),g.jsx(Xi,{title:"Niveaux débloqués",value:i.join(", ")||"-"})]}),Object.keys(m).length>0&&g.jsx(Ou,{title:"Performance par mode",stats:m,getLabel:w}),Object.keys(f).length>0&&g.jsx(Ou,{title:"Performance par difficulté",stats:f,getLabel:y}),h.length>0&&g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:"Historique récent"}),g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-50",children:[g.jsx("th",{className:"text-left py-2 px-4",children:"Date"}),g.jsx("th",{className:"text-left py-2 px-4",children:"Mode"}),g.jsx("th",{className:"text-left py-2 px-4",children:"Difficulté"}),g.jsx("th",{className:"text-center py-2 px-4",children:"Score"})]})}),g.jsx("tbody",{children:h.map(v=>g.jsxs("tr",{className:"border-b",children:[g.jsx("td",{className:"py-2 px-4",children:x(v.date)}),g.jsx("td",{className:"py-2 px-4",children:w(v.mode)}),g.jsx("td",{className:"py-2 px-4",children:y(v.difficulty)}),g.jsxs("td",{className:"py-2 px-4 text-center",children:[v.score,"%"]})]},v.id))})]})]}),g.jsx("div",{className:"text-center mt-8",children:g.jsx("button",{onClick:e,className:"bg-gray-900 hover:bg-gray-800 text-white font-medium py-3 px-8 rounded-md",children:"Commencer un nouveau quiz"})})]})})})},Xi=({title:t,value:e})=>g.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),g.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),Ou=({title:t,stats:e,getLabel:n})=>g.jsxs("section",{className:"mb-8",children:[g.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:t}),g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-50",children:[g.jsx("th",{className:"text-left py-2 px-4",children:"Type"}),g.jsx("th",{className:"text-center py-2 px-4",children:"Quiz"}),g.jsx("th",{className:"text-center py-2 px-4",children:"Moyenne"})]})}),g.jsx("tbody",{children:Object.entries(e).map(([r,s])=>g.jsxs("tr",{className:"border-b",children:[g.jsx("td",{className:"py-2 px-4",children:n(r)}),g.jsx("td",{className:"py-2 px-4 text-center",children:s.count}),g.jsxs("td",{className:"py-2 px-4 text-center",children:[(s.totalScore/s.count).toFixed(1),"%"]})]},r))})]})]}),vv=({isAuthenticated:t,username:e,onLogout:n,onProfile:r})=>g.jsx("header",{className:"bg-white border-b border-gray-200 py-4",children:g.jsxs("div",{className:"container mx-auto px-4 max-w-4xl flex justify-between items-center",children:[g.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Quiz Interactif"}),t&&g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("button",{className:"text-gray-700 hover:text-gray-900",onClick:r,children:e||"Profil"}),g.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",onClick:n,children:"Déconnexion"})]})]})}),yv=[{id:"fundamentals-01",question:"Quel composant est automatiquement présent sur tout GameObject créé dans Unity ?",options:["Transform","MeshRenderer","BoxCollider","Rigidbody"],correctAnswer:0,explanation:"Tous les GameObjects possèdent un Transform, qui gère leur position, rotation et échelle. C’est le seul composant obligatoire.",category:"fundamentals",level:"user"},{id:"fundamentals-02",question:"À quoi sert l'option “Static” dans l’Inspector d’un GameObject ?",options:["À indiquer que l’objet ne bougera pas pendant l’exécution","À figer les Rigidbody enfants automatiquement","À désactiver la physique sur l’objet","À cacher l’objet lors de l’édition de la scène"],correctAnswer:0,explanation:"L’option Static signale à Unity que l’objet est fixe, ce qui permet d’optimiser le rendu (lightmap, occlusion, batching statique…).",category:"fundamentals",level:"user"},{id:"fundamentals-03",question:"Quel panneau permet de visualiser la hiérarchie des objets présents dans la scène actuelle ?",options:["Project","Scene","Inspector","Hierarchy"],correctAnswer:3,explanation:"Le panneau Hierarchy affiche tous les GameObjects actifs de la scène, organisés selon leur relation parent/enfant.",category:"fundamentals",level:"user"},{id:"fundamentals-04",question:"Quel fichier Unity contient les métadonnées d’un asset (comme son GUID unique) ?",options:[".meta",".asset",".unity",".prefab"],correctAnswer:0,explanation:"Unity utilise un fichier .meta pour chaque asset afin de stocker son GUID. Ce GUID permet de conserver les références, même si l’asset est déplacé ou renommé.",category:"fundamentals",level:"user"},{id:"fundamentals-05",question:"Que permet de faire le raccourci Ctrl + D (ou Cmd + D sur Mac) dans l’éditeur Unity ?",options:["Dupliquer l’objet sélectionné","Dupliquer la scène actuelle","Créer un nouveau script","Supprimer l’objet sélectionné"],correctAnswer:0,explanation:"Ctrl + D permet de dupliquer l’objet sélectionné dans la hiérarchie ou le projet. C’est un raccourci très utilisé dans l’éditeur.",category:"fundamentals",level:"user"},{id:"fundamentals-06",question:"Quel type de fichier est utilisé par Unity pour décrire une scène ?",options:[".unity",".scene",".prefab",".asset"],correctAnswer:0,explanation:"Les fichiers de scène dans Unity ont l’extension .unity. Ils contiennent tous les objets, composants et paramètres enregistrés pour cette scène.",category:"fundamentals",level:"user"},{id:"fundamentals-07",question:"Quel raccourci permet de recentrer la vue sur un objet sélectionné dans la scène ?",options:["Touche F","Touche R","Touche G","Touche C"],correctAnswer:0,explanation:"La touche F permet de centrer la caméra de la scène sur l’objet sélectionné. C’est utile pour naviguer rapidement dans une scène complexe.",category:"fundamentals",level:"user"},{id:"fundamentals-08",question:"Quelle opération est effectuée lorsqu’on applique un prefab à un GameObject modifié ?",options:["Les modifications sont enregistrées dans le prefab","Le GameObject est remplacé par une copie neuve","Le prefab est dissocié du GameObject","Une nouvelle instance du prefab est créée"],correctAnswer:0,explanation:"Cliquer sur 'Apply' en haut de l’inspecteur enregistre les modifications faites à une instance dans le fichier prefab source.",category:"fundamentals",level:"user"},{id:"fundamentals-09",question:"Que se passe-t-il lorsqu’on supprime un GameObject parent dans la hiérarchie ?",options:["Tous ses enfants sont supprimés aussi","Les enfants sont déplacés à la racine","Les enfants deviennent inaccessibles","Seul le parent est supprimé, les enfants restent"],correctAnswer:0,explanation:"Supprimer un GameObject entraîne également la suppression de tous ses enfants dans la hiérarchie. C’est une suppression récursive.",category:"fundamentals",level:"user"},{id:"fundamentals-10",question:"Comment rendre un GameObject invisible sans le désactiver ?",options:["Désactiver son Mesh Renderer","Supprimer son Transform","Cocher 'Static'","Changer son tag en 'Untagged'"],correctAnswer:0,explanation:"Désactiver le composant Mesh Renderer empêche l’objet d’être visible tout en laissant son GameObject actif dans la scène.",category:"fundamentals",level:"user"},{id:"fundamentals-11",question:"Comment Unity retrouve-t-il un asset déplacé ou renommé dans le Project sans casser les références ?",options:["Grâce à un GUID unique stocké dans le fichier .meta","Grâce au chemin absolu du fichier dans le système","En utilisant le nom de l’asset et son type","Grâce au cache du moteur qui reconstruit les liens au démarrage"],correctAnswer:0,explanation:"Chaque asset possède un fichier .meta contenant un GUID unique. Unity utilise ce GUID pour référencer les assets, indépendamment de leur chemin ou nom.",category:"fundamentals",level:"associate"},{id:"fundamentals-12",question:"Que fait précisément la méthode SceneManager.LoadScene() par défaut ?",options:["Elle charge une scène en mode single et détruit la précédente","Elle charge une scène en arrière-plan sans détruire la précédente","Elle ajoute la scène à celles déjà chargées","Elle remplace uniquement les objets dynamiques de la scène active"],correctAnswer:0,explanation:"Par défaut, LoadScene charge la nouvelle scène en mode Single, ce qui détruit la scène en cours et tous ses objets, sauf ceux marqués avec DontDestroyOnLoad.",category:"fundamentals",level:"associate"},{id:"fundamentals-13",question:"Quel est l’effet d’un changement fréquent de la hiérarchie des GameObjects pendant l’exécution ?",options:["Il provoque un recalcul des transforms et peut impacter les performances","Aucun effet tant que les objets ne sont pas rendus","Unity ignore ces changements à moins d’utiliser un Canvas","Cela empêche les événements OnEnable/OnDisable de fonctionner correctement"],correctAnswer:0,explanation:"Modifier souvent la hiérarchie (ex: reparenting) entraîne des recalculs coûteux de la structure transform, ce qui peut affecter les performances CPU en runtime.",category:"fundamentals",level:"associate"},{id:"fundamentals-14",question:"Pourquoi faut-il éviter d’utiliser GameObject.Find() dans une méthode Update() ?",options:["Parce qu’elle effectue une recherche récursive lente à chaque frame","Parce qu’elle ne fonctionne que sur les objets actifs dans l’Inspector","Parce qu’elle renvoie toujours une copie du GameObject","Parce qu’elle n’est disponible que dans l’éditeur"],correctAnswer:0,explanation:"GameObject.Find() parcourt toute la hiérarchie active à chaque appel. L’utiliser dans Update() entraîne un coût CPU inutile évitable avec un cache.",category:"fundamentals",level:"associate"},{id:"fundamentals-15",question:"Quelles sont les conséquences d’un usage excessif de 'public' sur les champs d’un MonoBehaviour ?",options:["Ils deviennent modifiables dans l’Inspector et accessibles depuis d'autres scripts","Ils consomment plus de mémoire que les champs privés","Ils ne sont pas sérialisés correctement par Unity","Ils ne sont pas pris en compte lors de la compilation du build"],correctAnswer:0,explanation:"Déclarer un champ en public le rend visible dans l'Inspector et accessible depuis d'autres scripts. Cela peut exposer inutilement l'état interne d’un objet, nuisant à l'encapsulation.",category:"fundamentals",level:"associate"},{id:"fundamentals-16",question:"Quel est le rôle principal des fichiers .asmdef dans un projet Unity ?",options:["Définir des assemblies pour améliorer la compilation et la modularité","Indiquer à Unity les fichiers à exclure du build","Créer automatiquement des scripts d’initialisation de scène","Spécifier les plateformes supportées pour chaque asset"],correctAnswer:0,explanation:"Les fichiers .asmdef permettent de séparer le code en assemblies, ce qui améliore les temps de compilation, la lisibilité et la gestion des dépendances entre modules.",category:"fundamentals",level:"associate"},{id:"fundamentals-17",question:"Qu’est-ce que l’ordre d’exécution des scripts dans Unity permet de contrôler ?",options:["Quel script démarre en premier lors du cycle de vie","La vitesse d’exécution des scripts sur le GPU","L’ordre de compilation des shaders custom","L’ordre d'importation des assets lors du build"],correctAnswer:0,explanation:"L’ordre d’exécution des scripts permet de prioriser certains comportements (ex : initialisation d’un manager) avant d’autres. Il agit sur le cycle de vie (Awake, Start, Update).",category:"fundamentals",level:"associate"},{id:"fundamentals-18",question:"Pourquoi utiliser des ScriptableObjects pour stocker des données partagées ?",options:["Parce qu’ils persistent dans le projet sans exister dans la scène","Parce qu’ils s’exécutent plus vite que les MonoBehaviours","Parce qu’ils permettent de sérialiser les coroutines","Parce qu’ils remplacent automatiquement les prefabs"],correctAnswer:0,explanation:"Les ScriptableObjects sont des assets autonomes stockant des données partagées sans devoir exister dans une scène. Parfait pour config, stats, paramètres globaux.",category:"fundamentals",level:"associate"},{id:"fundamentals-19",question:"Que permet le mode 'Static Batching' dans Unity ?",options:["Combiner des objets statiques pour réduire les draw calls","Créer automatiquement des lightmaps pour les objets fixes","Bloquer les collisions entre objets inactifs","Réduire la taille mémoire des meshes partagés"],correctAnswer:0,explanation:"Le Static Batching fusionne à la volée les meshes des objets marqués comme 'static', ce qui permet de réduire significativement le nombre de draw calls à l’écran.",category:"fundamentals",level:"associate"},{id:"fundamentals-20",question:"Que signifie le fait de marquer une méthode avec l’attribut [ContextMenu] ?",options:["Elle devient accessible dans le menu de l’Inspector","Elle est appelée automatiquement à chaque frame","Elle est exclue du build final","Elle est uniquement disponible en mode Play via le menu contextuel"],correctAnswer:0,explanation:"L’attribut [ContextMenu] permet d’exposer une méthode publique ou privée dans le menu contextuel d’un MonoBehaviour, pour la déclencher manuellement depuis l’éditeur.",category:"fundamentals",level:"associate"},{id:"fundamentals-21",question:"Pourquoi l’utilisation naïve de DontDestroyOnLoad peut-elle poser problème dans des projets multi-scènes ?",options:["Car elle peut entraîner la duplication d’objets persistants entre les scènes","Car elle empêche le garbage collector de libérer la mémoire de la scène précédente","Car elle désactive automatiquement les composants désérialisés","Car elle empêche l’usage de ScriptableObjects persistants"],correctAnswer:0,explanation:"Sans gestion explicite, DontDestroyOnLoad peut dupliquer des objets à chaque retour de scène. Cela génère des conflits, des fuites mémoire ou des comportements non désirés sur des singletons ou managers.",category:"fundamentals",level:"pro"},{id:"fundamentals-22",question:"Quel risque entraîne l’activation systématique du static batching sur tous les GameObjects d’une scène ?",options:["Une augmentation de l’utilisation mémoire due à la duplication des meshes","Une perte de précision dans les calculs physiques","Un masquage des erreurs de lightmap sur les objets dynamiques","Une impossibilité de sérialiser correctement les composants durant le build"],correctAnswer:0,explanation:"Le static batching duplique les meshes en mémoire pour permettre leur combinaison. L’appliquer sans discernement, surtout sur des petits objets nombreux, peut exploser l’usage mémoire sans gain réel.",category:"fundamentals",level:"pro"},{id:"fundamentals-23",question:"Quel problème peut survenir lorsqu’on utilise LoadSceneAdditive sans gérer activement la scène active ?",options:["Les GameObjects instanciés seront associés à la mauvaise scène","La nouvelle scène écrase automatiquement les objets persistants","La navigation UI est désactivée dans la scène additive","Les composants MonoBehaviour ne sont plus sérialisés correctement"],correctAnswer:0,explanation:"Sans appel explicite à SetActiveScene(), les objets instanciés via Instantiate() seront rattachés à la scène active précédente, ce qui peut générer des erreurs de gestion de contenu ou de nettoyage.",category:"fundamentals",level:"pro"},{id:"fundamentals-24",question:"Quel problème peut survenir lorsqu’on crée des Assembly Definition Files sans organiser correctement leurs dépendances ?",options:["Des erreurs de compilation dues à des références circulaires","Une impossibilité de sérialiser les ScriptableObjects","Un plantage du système de lightmapping","Une perte automatique des composants liés aux prefabs"],correctAnswer:0,explanation:"Si deux asmdef se réfèrent mutuellement, Unity ne peut pas déterminer l’ordre de compilation. Cela crée une erreur de dépendance circulaire qui bloque tout le build.",category:"fundamentals",level:"pro"},{id:"fundamentals-25",question:"Quel risque survient lorsqu’on s’appuie uniquement sur l’appel à Start() pour initialiser des dépendances entre scripts ?",options:["Les scripts peuvent s’exécuter dans un ordre non garanti, causant des références nulles","Les scripts Start() ne s’exécutent pas si la scène est additive","Start() ne s’exécute qu’en mode Play, donc inutilisable en Editor","Start() est appelé avant Awake(), ce qui invalide l’injection de dépendances"],correctAnswer:0,explanation:"Unity n’impose aucun ordre d’appel entre scripts différents pour Start(). Se reposer dessus sans gestion d’ordre explicite peut entraîner des références nulles ou des comportements instables.",category:"fundamentals",level:"pro"},{id:"fundamentals-26",question:"Quel est l’usage principal des 'Scripting Define Symbols' dans les paramètres du Player ?",options:["Activer ou désactiver des blocs de code selon la configuration du build","Changer automatiquement le niveau de qualité graphique selon la plateforme","Appliquer des paramètres de compilation aux shaders du projet","Exclure les assets inutilisés lors de la génération du build"],correctAnswer:0,explanation:"Les scripting define symbols permettent de compiler conditionnellement certaines portions de code via des directives comme #if DEBUG. C’est essentiel pour gérer plusieurs configurations sans modifier manuellement le code.",category:"fundamentals",level:"pro"},{id:"fundamentals-27",question:"Pourquoi est-il déconseillé d’utiliser des allocations mémoire dans une méthode Update() ?",options:["Parce qu’elles peuvent provoquer des pics de Garbage Collection perceptibles en jeu","Parce qu’elles empêchent le multithreading natif de Unity","Parce qu’elles dégradent le rendu des lightmaps en temps réel","Parce qu’elles bloquent l’appel de FixedUpdate sur les objets liés"],correctAnswer:0,explanation:"Allouer de la mémoire à chaque frame (via new, string, foreach…) génère de la pression sur le GC. Quand la collecte s’active, elle provoque une pause du thread principal, visible sous forme de freeze ou stutter.",category:"fundamentals",level:"pro"},{id:"fundamentals-28",question:"Que se passe-t-il lorsqu’un prefab parent est modifié après la création de plusieurs variants ?",options:["Les changements sont propagés aux variants sauf si la propriété a été modifiée localement","Les variants sont forcés de réappliquer les propriétés du parent au prochain reimport","Les overrides des variants sont convertis en propriétés fixes indépendantes","Les changements du parent ne s’appliquent que si les variants sont rechargés manuellement"],correctAnswer:0,explanation:"Un Prefab Variant hérite de son parent. Toute propriété non overridée dans le variant est mise à jour automatiquement si elle change dans le parent. Seules les propriétés modifiées localement sont conservées.",category:"fundamentals",level:"pro"},{id:"fundamentals-29",question:"Lequel de ces champs ne sera pas sérialisé par Unity dans un MonoBehaviour ?",options:["Un Dictionary<string, int> même s’il est public","Un Vector3 public sans attribut","Un int privé avec [SerializeField]","Un ScriptableObject assigné dans l’Inspector"],correctAnswer:0,explanation:"Unity ne sait pas sérialiser les Dictionary (ni HashSet, ni interface) car ils ne sont pas compatibles avec son système de sérialisation interne. Même en public, ils seront ignorés.",category:"fundamentals",level:"pro"},{id:"fundamentals-30",question:"Quel comportement inattendu peut se produire après un appel à Destroy() dans le même frame ?",options:["L’objet peut encore être accessible et sembler valide jusqu’à la fin de la frame","L’objet est immédiatement retiré de toutes les listes et hiérarchies","Les autres objets dépendants sont détruits automatiquement avec lui","L’appel bloque l’exécution du thread principal jusqu’à la destruction complète"],correctAnswer:0,explanation:"Destroy() marque l’objet pour suppression à la fin de la frame, mais ne le détruit pas immédiatement. Il reste donc accessible via les références existantes, ce qui peut induire des bugs subtils si on le manipule encore.",category:"fundamentals",level:"pro"},{id:"scripting-01",question:"Quelle méthode est appelée automatiquement par Unity juste après l’instanciation d’un script en jeu ?",options:["Awake()","Start()","OnEnable()","Update()"],correctAnswer:0,explanation:"Awake() est la première méthode appelée par Unity lors de la création d’un script actif. Elle s’exécute avant Start(), et une seule fois, même si l’objet est désactivé puis réactivé.",category:"scripting",level:"user"},{id:"scripting-02",question:"À quoi sert la méthode GetComponent<T>() dans un script Unity ?",options:["Accéder à un composant attaché au même GameObject","Créer une instance d’un nouveau composant sur l’objet","Activer tous les composants enfants de type T","Copier les propriétés d’un composant vers un autre"],correctAnswer:0,explanation:"GetComponent<T>() permet d’obtenir une référence à un composant existant sur le même GameObject. Il ne crée rien, n’active rien, et ne duplique pas — il récupère.",category:"scripting",level:"user"},{id:"scripting-03",question:"Quel est l’effet de l’attribut [SerializeField] appliqué à un champ privé dans un script Unity ?",options:["Il rend le champ visible et modifiable dans l’Inspector","Il le convertit en champ public accessible par d'autres scripts","Il permet de le sauvegarder automatiquement dans un fichier JSON","Il force sa mise à jour à chaque frame du jeu"],correctAnswer:0,explanation:"[SerializeField] permet d’exposer un champ privé dans l’Inspector de Unity tout en gardant son accès restreint dans le code. C’est utile pour respecter l'encapsulation tout en permettant le paramétrage visuel.",category:"scripting",level:"user"},{id:"scripting-04",question:"Quelle est la différence principale entre Update() et FixedUpdate() dans Unity ?",options:["FixedUpdate() est appelé à intervalles réguliers pour gérer la physique","Update() est plus précis pour gérer les collisions physiques","FixedUpdate() est appelé à chaque frame du jeu","Update() est désactivé si le Rigidbody est en mode Kinematic"],correctAnswer:0,explanation:"FixedUpdate() est appelé à un intervalle fixe, indépendant du framerate, et est utilisé pour appliquer des calculs de physique. Update() est lié au nombre d’images par seconde, ce qui peut provoquer des irrégularités si on y gère des forces.",category:"scripting",level:"user"},{id:"scripting-05",question:"Quand la méthode OnEnable() est-elle appelée dans le cycle de vie d’un script Unity ?",options:["À chaque fois que le GameObject ou le script est activé","Uniquement lors du chargement initial de la scène","Juste avant l’exécution de la méthode Awake()","Uniquement si le script est public et attaché dans l’Inspector"],correctAnswer:0,explanation:"OnEnable() est appelée chaque fois que le script ou son GameObject devient actif. Cela inclut le démarrage de la scène, mais aussi toute réactivation via SetActive(true).",category:"scripting",level:"user"},{id:"scripting-06",question:"Comment appelle-t-on une méthode publique d’un autre script avec un paramètre simple ?",options:["En accédant au script via GetComponent et en appelant la méthode avec la valeur","En déclarant la méthode dans le fichier InputManager","En ajoutant la méthode dans la fonction Start() du script cible","En reliant la méthode via un EventTrigger dans l’Inspector"],correctAnswer:0,explanation:"On utilise GetComponent pour récupérer le script cible, puis on appelle la méthode en passant la valeur voulue. C’est la base des interactions entre scripts en C# sous Unity.",category:"scripting",level:"user"},{id:"scripting-07",question:"Quelle est la fonction principale du type Vector3 dans Unity ?",options:["Représenter une position, une direction ou une échelle en 3D","Définir une couleur avec des canaux RVB","Contrôler l’animation d’un objet dans le temps","Stocker les entrées clavier sous forme de coordonnées"],correctAnswer:0,explanation:"Vector3 est un type de structure utilisé pour stocker des données en trois dimensions — position, direction, vitesse, échelle, etc. Il est omniprésent dans les calculs 3D.",category:"scripting",level:"user"},{id:"scripting-08",question:"Quelle est la manière correcte de déplacer un GameObject à une position précise dans l’espace monde ?",options:["En assignant une nouvelle valeur à transform.position","En modifiant transform.localPosition en coordonnées globales","En appelant transform.Translate avec des coordonnées absolues","En changeant la position dans l’Inspector pendant le jeu"],correctAnswer:0,explanation:"transform.position permet de définir une position globale dans l’espace monde. Modifier localPosition affecte la position relative au parent. Translate ajoute un déplacement relatif, pas absolu.",category:"scripting",level:"user"},{id:"scripting-09",question:"Quelle syntaxe permet d’exécuter une action seulement si une variable booléenne nommée isActive est vraie ?",options:["if (isActive) { /* action */ }","if isActive then doAction()","if (isActive == false) { /* action */ }","when isActive == true then { /* action */ }"],correctAnswer:0,explanation:"La syntaxe correcte en C# est if (isActive) { ... }. Les autres propositions utilisent une logique ou une syntaxe incorrecte, empruntée à d'autres langages ou mal formée.",category:"scripting",level:"user"},{id:"scripting-10",question:"Quelle méthode permet de détecter si une touche vient d’être pressée sur le clavier ?",options:["Input.GetKeyDown()","Input.GetButtonHeld()","Input.KeyPressed()","Input.OnKeyPress()"],correctAnswer:0,explanation:"Input.GetKeyDown() retourne true uniquement lors de la frame où la touche est pressée. C’est la méthode classique pour détecter un appui clavier dans Unity.",category:"scripting",level:"user"},{id:"scripting-11",question:"Quel est le principal inconvénient de l’utilisation fréquente de FindObjectOfType<T>() dans un projet Unity ?",options:["Elle effectue une recherche globale lente dans la hiérarchie active","Elle crée une nouvelle instance du composant à chaque appel","Elle ne fonctionne que pour les objets marqués 'static'","Elle retourne toujours le premier composant désactivé trouvé"],correctAnswer:0,explanation:"FindObjectOfType<T>() parcourt l’ensemble de la scène pour retrouver un composant, ce qui est coûteux en termes de performance. Elle ne crée rien et ignore les composants désactivés.",category:"scripting",level:"associate"},{id:"scripting-12",question:"Pourquoi GetComponent<T>() peut-il retourner null lorsqu’il est utilisé dans la méthode Awake() ?",options:["Parce que le composant visé peut ne pas être encore initialisé si son script Awake est appelé après","Parce que GetComponent ne fonctionne pas avant que le GameObject soit actif dans la hiérarchie","Parce que GetComponent ne retourne que les composants publics exposés dans l’Inspector","Parce que les références entre scripts ne sont valides qu’à partir de Start()"],correctAnswer:0,explanation:"Si deux scripts sont attachés au même GameObject, mais que celui visé initialise ses références dans son propre Awake(), l’appel de GetComponent dans l’autre script peut échouer si l’ordre d’exécution est défavorable. L’ordre d’appel d’Awake() n’est pas garanti par défaut.",category:"scripting",level:"associate"},{id:"scripting-13",question:"Quel est un inconvénient courant à exposer de nombreux champs en public dans un script Unity ?",options:["Cela rend l’état interne modifiable depuis n’importe quel autre script","Cela empêche la compilation du projet sur certaines plateformes","Cela désactive automatiquement la sérialisation par Unity","Cela empêche le champ d’être visible dans l’Inspector sans attribut spécifique"],correctAnswer:0,explanation:"Un champ public peut être lu ou modifié librement depuis d'autres scripts, ce qui peut casser l'encapsulation et générer des effets de bord imprévus. Mieux vaut utiliser private + SerializeField.",category:"scripting",level:"associate"},{id:"scripting-14",question:"Quelle erreur fréquente peut survenir lors de l’instanciation d’un prefab sans définir explicitement son parent ?",options:["L’objet instancié est placé par défaut à la racine de la scène","Le prefab ne peut pas recevoir de composants dynamiques","L’objet instancié est automatiquement détruit à la fin de la frame","Le prefab est converti en GameObject statique non modifiable"],correctAnswer:0,explanation:"Si aucun parent n’est spécifié, Unity instancie l’objet à la racine de la scène. Cela peut affecter l’ordre d’affichage ou le comportement attendu dans l’arborescence (UI, logique, etc.).",category:"scripting",level:"associate"},{id:"scripting-15",question:"Quel problème peut survenir lorsqu’un objet marqué DontDestroyOnLoad contient une variable static ?",options:["L’objet peut persister avec un état corrompu lors du retour à une scène déjà chargée","Le champ static est automatiquement réinitialisé à chaque chargement de scène","L’objet est dupliqué dans la hiérarchie et force la désactivation du prefab d’origine","Les composants enfants de l’objet sont désérialisés avec des valeurs par défaut"],correctAnswer:0,explanation:"Les objets DontDestroyOnLoad ne sont pas détruits entre les scènes. Si une variable static garde une référence vers eux ou des données d’état, cela peut causer des effets de bord, duplications ou incohérences en cas de retour sur une scène déjà chargée.",category:"scripting",level:"associate"},{id:"scripting-16",question:"Comment fonctionne une coroutine dans Unity ?",options:["Elle exécute une méthode en plusieurs fois sur la durée du jeu","Elle exécute une méthode instantanément dans un thread séparé","Elle répète l’exécution d’une méthode à intervalle fixe automatiquement","Elle bloque l’ensemble du code tant que l’action n’est pas terminée"],correctAnswer:0,explanation:"Les coroutines permettent d’exécuter du code sur plusieurs frames, en laissant Unity gérer la reprise au bon moment. Elles ne bloquent pas, ne créent pas de threads, et ne s’exécutent pas en boucle automatiquement.",category:"scripting",level:"associate"},{id:"scripting-17",question:"Dans quel cas une coroutine peut-elle être interrompue automatiquement sans appel explicite à StopCoroutine() ?",options:["Lorsque le GameObject qui l’exécute est désactivé","Lorsque la scène active est rechargée en mode additive","Lorsque la coroutine utilise yield return null plus de 60 fois","Lorsque le nom de la coroutine est identique à une autre en cours"],correctAnswer:0,explanation:"Les coroutines sont liées à un MonoBehaviour actif. Si le GameObject ou le script est désactivé, Unity stoppe automatiquement la coroutine en cours, sans avertissement.",category:"scripting",level:"associate"},{id:"scripting-18",question:"Quel est l’intérêt principal d’utiliser un bloc try/catch dans un script Unity ?",options:["Empêcher le crash complet du script lors d’une exception non prévue","Optimiser les performances des boucles contenant des appels lourds","Ignorer automatiquement les erreurs de compilation du projet","Forcer le moteur Unity à ignorer les erreurs pendant le Play Mode"],correctAnswer:0,explanation:"Un bloc try/catch permet d’intercepter une exception au moment où elle se produit, pour éviter que le script ne s’arrête brutalement. Cela permet de gérer les erreurs proprement, mais ce n’est pas une solution de performance.",category:"scripting",level:"associate"},{id:"scripting-19",question:"Pourquoi est-il déconseillé d’utiliser un bloc try/catch à l’intérieur de la méthode Update() ?",options:["Parce que le coût en performance d’un try/catch vide est élevé, même sans exception","Parce que Unity ne supporte pas les blocs try/catch dans les méthodes appelées chaque frame","Parce que cela bloque l’exécution de FixedUpdate() tant que l’Update est actif","Parce que les exceptions catchées dans Update() sont ignorées dans le Profiler"],correctAnswer:0,explanation:"Même sans exception levée, un try/catch introduit une surcharge notable car le runtime prépare une gestion d’erreur. Dans une méthode appelée chaque frame comme Update(), cela peut impacter sérieusement les performances.",category:"scripting",level:"associate"},{id:"scripting-20",question:"Que fait exactement l’appel SetActive(false) sur un GameObject dans Unity ?",options:["Il rend le GameObject inactif dans la hiérarchie sans le détruire","Il supprime le GameObject de la scène jusqu’à la prochaine frame","Il désactive uniquement les scripts mais pas les composants de rendu","Il masque visuellement le GameObject mais continue de le mettre à jour"],correctAnswer:0,explanation:"SetActive(false) rend un GameObject inactif dans la hiérarchie. Cela désactive également tous ses enfants, et empêche tous les MonoBehaviours associés de recevoir des callbacks comme Update.",category:"scripting",level:"associate"},{id:"scripting-21",question:"Pourquoi est-il déconseillé d’utiliser des exceptions pour contrôler le flux logique dans Unity ?",options:["Car cela masque les erreurs de compilation","Car cela entraîne un surcoût important en performances et complique le profiling","Car Unity ne supporte pas le bloc try/catch dans les builds","Car cela empêche l’accès aux GameObjects"],correctAnswer:1,explanation:"Utiliser les exceptions pour la logique de contrôle est lourd en termes de performance, nuit à la lisibilité et complique le debugging et le profiling. Les exceptions doivent être réservées aux cas inattendus.",category:"scripting",level:"pro"},{id:"scripting-22",question:"Quelle est une des limitations critiques du mot-clé 'async' dans un contexte Unity classique ?",options:["Il empêche l’usage des coroutines","Il ne fonctionne pas avec le Garbage Collector","Il ne garantit pas l’exécution sur le thread principal","Il bloque la boucle de rendu tant que la tâche n’est pas terminée"],correctAnswer:2,explanation:"Le mot-clé 'async' peut exécuter du code sur des threads secondaires, mais Unity ne permet pas d'accéder à son API (ex: GameObject, Transform...) hors du thread principal, ce qui introduit des risques si mal géré.",category:"scripting",level:"pro"},{id:"scripting-23",question:"Quel est l’avantage principal d’utiliser un struct `readonly` pour représenter des données en Unity ?",options:["Il permet l’héritage multiple","Il autorise les champs privés dans l’Inspector","Il évitant les mutations involontaires","Il est automatiquement sérialisé par Unity"],correctAnswer:2,explanation:"Un struct `readonly` est immuable : il garantit que ses champs ne peuvent pas être modifiés après construction, ce qui réduit les effets de bord, facilite le raisonnement sur le code et peut améliorer la sécurité multithread.",category:"scripting",level:"pro"},{id:"scripting-24",question:"Pourquoi est-il déconseillé d'utiliser `FindObjectOfType<T>()` dans des méthodes appelées fréquemment (ex : Update) ?",options:["Parce qu’elle retourne une référence temporaire","Parce qu’elle est incompatible avec les interfaces","Parce qu’elle est coûteuse en performances à chaque appel","Parce qu’elle modifie l’ordre d’exécution des scripts"],correctAnswer:2,explanation:"`FindObjectOfType<T>()` parcourt tous les objets actifs dans la scène à chaque appel, ce qui peut provoquer des ralentissements importants si utilisé dans des boucles fréquentes comme `Update`. Il vaut mieux mettre en cache la référence au démarrage.",category:"scripting",level:"pro"},{id:"scripting-25",question:"Quelle est une limite importante de l'utilisation de `ScriptableObject` pour gérer un état dynamique partagé ?",options:["Ils ne peuvent pas être utilisés dans des builds","Leurs données persistent entre les sessions Play dans l’éditeur","Ils n’ont pas accès au système de serialization de Unity","Ils ne peuvent pas référencer d’autres assets Unity"],correctAnswer:1,explanation:"Les `ScriptableObject` conservent les modifications en mémoire même après l’arrêt du mode Play dans l’éditeur, ce qui peut provoquer des comportements inattendus si on les utilise pour stocker des états dynamiques sans les réinitialiser correctement.",category:"scripting",level:"pro"},{id:"scripting-26",question:"Quelle est la conséquence d’un appel `Destroy(this)` dans une coroutine sur le comportement du script ?",options:["La coroutine s'arrête immédiatement","L’objet est détruit au frame suivant mais la coroutine continue jusqu’au bout","L’objet est désactivé mais pas détruit","La coroutine est mise en pause jusqu’à la destruction complète"],correctAnswer:1,explanation:"`Destroy(this)` planifie la destruction du MonoBehaviour pour la fin du frame. Les coroutines en cours continuent donc à s’exécuter jusqu’à la destruction effective, ce qui peut entraîner des effets de bord si on s'attend à un arrêt immédiat.",category:"scripting",level:"pro"},{id:"scripting-27",question:"Quelle est une contrainte courante liée à l’utilisation du polymorphisme avec des `MonoBehaviour` dans Unity ?",options:["Unity ne supporte pas les classes abstraites dans les scripts","L’Inspector ne sait pas gérer les champs d’interface ou de classe parente.","Il est impossible d’appeler des méthodes virtuelles depuis `Update()`","Les composants polymorphes causent des fuites mémoire"],correctAnswer:1,explanation:"L’Inspector Unity ne permet pas de sérialiser automatiquement des champs de type interface ou classe de base. Résultat : on ne peut pas assigner facilement des implémentations polymorphes dans l’éditeur, sauf en utilisant des hacks comme les `ScriptableObject`, des wrappers ou de la sérialisation custom.",category:"scripting",level:"pro"},{id:"scripting-28",question:"Pourquoi est-il déconseillé de capturer une variable locale dans une lambda utilisée avec un event Unity ?",options:["Cela empêche la compilation sur certaines plateformes","La variable capturée peut entraîner une fuite mémoire ou un comportement inattendu","Unity bloque automatiquement ce type de capture pour des raisons de sécurité","Les lambdas capturent uniquement des variables globales, jamais locales"],correctAnswer:1,explanation:"Capturer une variable locale dans une lambda enregistrée sur un event (comme `button.onClick`) peut provoquer une fuite mémoire si l’événement n’est pas correctement nettoyé, car la fermeture retient la variable capturée même après la fin du scope.",category:"scripting",level:"pro"},{id:"scripting-29",question:"Quelle est une limite importante à connaître lorsqu’on utilise des méthodes async/await dans Unity ?",options:["Elles ne sont pas compatibles avec les types génériques","Unity interdit totalement l’usage de async dans le Player","Le contexte Unity n’est pas automatiquement restauré après un await","Le garbage collector est désactivé dans les méthodes async"],correctAnswer:2,explanation:"Après un `await`, l’exécution reprend sur un thread arbitraire si `ConfigureAwait(false)` est utilisé ou si le contexte n’est pas Unity. Cela peut causer des erreurs si l’on manipule des objets Unity (non thread-safe) hors du Main Thread.",category:"scripting",level:"pro"},{id:"scripting-30",question:"Pourquoi l'utilisation d'un `Span<T>` n'est-elle pas courante dans les projets Unity C# actuels ?",options:["Car `Span<T>` est incompatible avec la gestion de mémoire managée de Unity","Car Unity ne permet pas d'utiliser `Span<T>` dans les builds WebGL","Car `Span<T>` impose l’usage du GC","Car `Span<T>` nécessite une allocation mémoire explicite à chaque appel"],correctAnswer:1,explanation:"`Span<T>` repose sur des fonctionnalités de bas niveau non supportées dans tous les backends Unity, en particulier WebGL. De plus, certaines versions de Mono utilisées par Unity ne le supportent pas pleinement.",category:"scripting",level:"pro"}];async function Lu(t,e){console.log("[🚩 createProfileIfMissing] called with:",t,e);const{data:n,error:r}=await X.from("profiles").select("id").eq("id",t).single();if(r&&r.code!=="PGRST116"){console.error("[❌ createProfileIfMissing] SELECT failed:",r.message);return}if(n){console.log("[ℹ️] Profile already exists");return}const{error:s}=await X.from("profiles").insert({id:t,username:e,unlockedLevels:["user"]});s?console.error("[❌ createProfileIfMissing] INSERT failed:",s.message):console.log("[✅] Profile created for",t,"with username:",e)}function wv(t){const e=t.slice();for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}function Au(t,e){return wv(t).slice(0,e)}async function Zi(t){if(!t)return[];const{data:e,error:n}=await X.from("profiles").select("unlockedLevels").eq("id",t).maybeSingle();return n||!(e!=null&&e.unlockedLevels)?[]:e.unlockedLevels}function _v(t,e,n,r){if(e==="evaluation"){const i=t.filter(o=>o.level===n);return Au(i,r)}const s=t.filter(i=>i.category===e&&i.level===n);return Au(s,r)}function xv(){const[t,e]=R.useState(null),[n,r]=R.useState("auth"),[s,i]=R.useState({difficulty:"",mode:""}),[o,l]=R.useState([]),[a,u]=R.useState([]),[c,d]=R.useState([]),[p,y]=R.useState(!0);R.useEffect(()=>{X.auth.signOut().then(()=>{console.log("[🔧 Reset] Déconnexion forcée"),localStorage.clear(),indexedDB.deleteDatabase("localforage")})},[]),R.useEffect(()=>{(async()=>{var P;y(!0),console.log("[🔎 Auth Init] Vérification de la session Supabase...");const{data:v,error:_}=await X.auth.getSession();_&&console.error("[❌ Supabase] Erreur lors de getSession:",_.message);const S=v==null?void 0:v.session;if(!S){console.log("[ℹ️] Aucune session trouvée. Redirection vers login."),await X.auth.signOut(),e(null),r("auth"),y(!1);return}const k=S.user;if(console.log("[✅ Session trouvée]",k),k!=null&&k.email_confirmed_at){console.log("[✅ Email confirmé] => Passage à Home"),e(k.id);const q=((P=k.user_metadata)==null?void 0:P.username)||"User_"+k.id.slice(0,5);console.log("[👤 Session] Appel à createProfileIfMissing avec metadata:",q),await Lu(k.id,q);const L=await Zi(k.id);console.log("[📦 Levels déverrouillés]:",L),d(L),r("home")}else console.warn("[⚠️ Email non confirmé ou invalide] => Déconnexion forcée"),await X.auth.signOut(),e(null),r("auth");y(!1)})()},[]),R.useEffect(()=>{!p&&!t&&n!=="auth"&&r("auth")},[p,t,n]);const w=async()=>{await X.auth.signOut(),e(null),r("auth"),l([]),u([]),d([])},x=async v=>{const _=localStorage.getItem("pendingUsername");console.log("[🔁 handleLogin] username from localStorage:",_);const{data:S}=await X.auth.getUser(),k=S==null?void 0:S.user;if(!k||k.id!==v||!k.email_confirmed_at){console.warn("[⚠️ handleLogin] Utilisateur invalide ou email non confirmé."),await X.auth.signOut(),e(null),r("auth");return}if(console.log("[✅ handleLogin] Utilisateur authentifié:",k.id),e(k.id),_)try{console.log("[👤] Appel à createProfileIfMissing avec :",k.id,_),await Lu(k.id,_),localStorage.removeItem("pendingUsername"),console.log("[🧹] Username temporaire supprimé du localStorage")}catch(q){console.error("❌ Erreur lors de la création du profil :",q)}else console.log("[ℹ️] Aucun username en attente de création de profil.");const P=await Zi(k.id);console.log("[📦 handleLogin] Levels déverrouillés:",P),d(P),r("home")},j=(v,_)=>{if(!c.includes(_)){alert("Ce niveau n'est pas encore débloqué.");return}i({difficulty:_,mode:v});const S=v==="evaluation"?20:10,k=_v(yv,v,_,S);u(k),l(Array(S).fill(null)),r("quiz")},m=(v,_)=>{const S=[...o];S[v]=_,l(S)},f=async()=>{const v=a.filter((S,k)=>o[k]===S.correctAnswer).length,_={id:Date.now().toString(),date:new Date().toISOString(),mode:s.mode,difficulty:s.difficulty,score:v/a.length*100,totalQuestions:a.length,correctAnswers:v};if(t)try{if(await fv(t,_),await yf(t,_.mode,_.difficulty,_.score),_.mode==="evaluation"&&_.score>=80){const S=await Zi(t);d(S)}}catch(S){console.error("Erreur en sauvegardant les résultats du quiz :",S)}r("results")},h=()=>{r("home")};return p?g.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"Chargement..."}):g.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 text-gray-900 antialiased",children:[t&&g.jsx(vv,{isAuthenticated:!0,username:"",onLogout:w,onProfile:()=>r("profile")}),g.jsxs("main",{className:"flex-1 flex flex-col",children:[n==="auth"&&g.jsx(cv,{onLogin:x}),n==="home"&&t&&g.jsx(dv,{onStartQuiz:j,unlockedLevels:c}),n==="quiz"&&t&&g.jsx(pv,{questions:a,userAnswers:o,onSubmitAnswer:m,onFinishQuiz:f,quizSettings:s,userId:t,setUnlockedLevels:d}),n==="results"&&t&&g.jsx(mv,{questions:a,userAnswers:o,onRestartQuiz:h,quizSettings:s}),t&&n==="profile"&&g.jsx(gv,{userId:t,onLogout:w,onStartNewQuiz:()=>r("home")})]})]})}const wf=document.getElementById("root");if(!wf)throw new Error("Missing root element");const Sv=Vd(wf);Sv.render(g.jsx(xv,{}));
